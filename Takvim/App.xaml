<Application x:Class="Takvim.App"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:Themes="clr-namespace:Microsoft.Windows.Themes;assembly=PresentationFramework.Aero"
    xmlns:ice="http://schemas.microsoft.com/winfx/2006/xaml/presentation/options"
    xmlns:local="clr-namespace:Takvim" xmlns:properties="clr-namespace:Takvim.Properties"
    Exit="Application_Exit" Startup="Application_Startup">
    <Application.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="/PresentationFramework.Aero,Version=4.0.0.0,Culture=neutral,PublicKeyToken=31bf3856ad364e35,processorArchitecture=MSIL;component/themes/Aero.NormalColor.xaml" />
                <ResourceDictionary Source="/Takvim;component/Themes/Generic.xaml" />
            </ResourceDictionary.MergedDictionaries>
            <local:Data x:Key="Data" />
            <local:Shell32FileIconConverter x:Key="Shell32FileIconConverter" />
            <local:RegistryToIconConverter x:Key="RegistryToIconConverter" />
            <local:FilePathToIconConverter x:Key="FilePathToIconConverter" />
            <local:ŞuAnkiAyColorConverter x:Key="ŞuAnkiAyColorConverter" />
            <local:ListBoxDatePassedVisibilityConverter x:Key="ListBoxDatePassedVisibilityConverter" />
            <local:XmlDateConverter x:Key="XmlDateConverter" />
            <local:Base64ImageConverter x:Key="Base64ImageConverter" />
            <local:AyTekrarDataConverter x:Key="AyTekrarDataConverter" />
            <local:AyTekrarConverter x:Key="AyTekrarConverter" />
            <local:BilinenGünlerSeçiliConverter x:Key="BilinenGünlerSeçiliConverter" />
            <local:BilinenGünlerConverter x:Key="BilinenGünlerConverter" />
            <local:DatePassedBooleanConverter x:Key="DatePassedBooleanConverter" />
            <XmlDataProvider x:Key="XmlData" IsAsynchronous="False" XPath="Veriler/Veri" />
            <local:DateAnimationConverter x:Key="DateAnimationConverter" />
            <local:StringToBrushConverter x:Key="StringToBrushConverter" />
            <local:GünTatilConverter x:Key="GünTatilConverter" />
            <local:RamadanDateToHolidayConverter x:Key="RamadanDateToHolidayConverter" />
            <local:FeastoftheSacrificeDateToHolidayConverter x:Key="FeastoftheSacrificeDateToHolidayConverter" />
            <local:DateNoteCountConverter x:Key="DateNoteCountConverter" />
            <local:BrushToColorConverter x:Key="BrushToColorConverter" />
            <local:IntBooleanZeroConverter x:Key="IntBooleanZeroConverter" />
            <local:SelectedDateToDataListConverter x:Key="SelectedDateToDataListConverter" />
            <local:WebpByteArrayToImageConverter x:Key="WebpByteArrayToImageConverter" />
            <Storyboard x:Key="TimerColorAnimation" RepeatBehavior="Forever" Timeline.DesiredFrameRate="3">
                <ColorAnimation Storyboard.TargetProperty="(Border.BorderBrush).(SolidColorBrush.Color)" From="Yellow" To="Red" Duration="00:00:01" />
            </Storyboard>
            <ControlTemplate x:Key="GreenToolTipControlTemplate" TargetType="{x:Type ToolTip}">
                <Border BorderBrush="OliveDrab" BorderThickness="2.5">
                    <ContentPresenter />
                </Border>
            </ControlTemplate>
            <ControlTemplate x:Key="SimpleButtonTemplate" TargetType="{x:Type Button}">
                <Border Background="{TemplateBinding Background}" BorderBrush="{Binding Converter={StaticResource StringToBrushConverter}, XPath=@Renk}" BorderThickness="2.5" CornerRadius="10" />
            </ControlTemplate>
            <ControlTemplate x:Key="Eye">
                <Border Width="{TemplateBinding Width}" Height="{TemplateBinding Height}">
                    <Border.Background>
                        <DrawingBrush ice:Freeze="True" Stretch="Uniform">
                            <DrawingBrush.Drawing>
                                <DrawingGroup>
                                    <DrawingGroup ClipGeometry="M 1.36121e-009,-2.563e-006L 32,-2.563e-006L 32,28.4459L 1.36121e-009,28.4459L 1.36121e-009,-2.563e-006 Z ">
                                        <GeometryDrawing Brush="Blue" ice:Freeze="True" Geometry="M 31.6308,12.8691C 28.4983,7.55306 22.6561,4.00015 15.9999,4.00015C 9.34106,4.00015 3.50011,7.55562 0.369211,12.8691C -0.123024,13.7045 -0.123024,14.7415 0.369211,15.577C 3.50167,20.8928 9.3439,24.4458 15.9999,24.4458C 22.6589,24.4458 28.4998,20.8904 31.6308,15.5768C 32.1232,14.7414 32.1232,13.7045 31.6308,12.8691 Z M 15.9999,21.7789C 10.3023,21.7789 5.32824,18.7399 2.66654,14.2229C 5.11974,10.0599 9.53761,7.15211 14.6757,6.72215C 15.2198,7.28254 15.5555,8.0466 15.5555,8.88932C 15.5555,10.6077 14.1627,12.0006 12.4444,12.0006C 10.7262,12.0006 9.33323,10.6077 9.33323,8.88932L 9.33338,8.88704C 8.76634,9.94736 8.44434,11.1586 8.44434,12.4451C 8.44434,16.6182 11.8271,20.0011 15.9999,20.0011C 20.1729,20.0011 23.5555,16.6182 23.5555,12.4451C 23.5555,10.7211 22.9778,9.13224 22.0059,7.86071C 25.0947,9.14703 27.6672,11.3954 29.3333,14.2229C 26.6718,18.7399 21.6975,21.7789 15.9999,21.7789 Z " />
                                    </DrawingGroup>
                                </DrawingGroup>
                            </DrawingBrush.Drawing>
                        </DrawingBrush>
                    </Border.Background>
                </Border>
            </ControlTemplate>
            <ControlTemplate x:Key="ListBoxItemControlTemplate" TargetType="{x:Type ListBoxItem}">
                <ControlTemplate.Resources>
                    <Storyboard x:Key="StoryboardRotate" Timeline.DesiredFrameRate="30">
                        <DoubleAnimationUsingKeyFrames Storyboard.TargetName="Bd" Storyboard.TargetProperty="(UIElement.RenderTransform).(TransformGroup.Children)[2].(RotateTransform.Angle)">
                            <EasingDoubleKeyFrame KeyTime="0" Value="0" />
                            <EasingDoubleKeyFrame KeyTime="0:0:0.75" Value="360" />
                        </DoubleAnimationUsingKeyFrames>
                    </Storyboard>
                    <Storyboard x:Key="GrowListItem" AutoReverse="True" Timeline.DesiredFrameRate="30">
                        <DoubleAnimationUsingKeyFrames Storyboard.TargetName="Bd" Storyboard.TargetProperty="(UIElement.RenderTransform).(TransformGroup.Children)[0].(ScaleTransform.ScaleX)">
                            <EasingDoubleKeyFrame KeyTime="0" Value="1" />
                            <EasingDoubleKeyFrame KeyTime="0:0:0.4" Value="3" />
                        </DoubleAnimationUsingKeyFrames>
                        <DoubleAnimationUsingKeyFrames Storyboard.TargetName="Bd" Storyboard.TargetProperty="(UIElement.RenderTransform).(TransformGroup.Children)[0].(ScaleTransform.ScaleY)">
                            <EasingDoubleKeyFrame KeyTime="0" Value="1" />
                            <EasingDoubleKeyFrame KeyTime="0:0:0.4" Value="3" />
                        </DoubleAnimationUsingKeyFrames>
                    </Storyboard>
                </ControlTemplate.Resources>
                <Border x:Name="Bd"
                    Background="{TemplateBinding Background}"
                    BorderBrush="{TemplateBinding BorderBrush}"
                    BorderThickness="{TemplateBinding BorderThickness}"
                    Padding="{TemplateBinding Padding}"
                    CornerRadius="1" RenderTransformOrigin="0.5,0.5" SnapsToDevicePixels="True">
                    <Border.RenderTransform>
                        <TransformGroup>
                            <ScaleTransform />
                            <SkewTransform />
                            <RotateTransform />
                            <TranslateTransform />
                        </TransformGroup>
                    </Border.RenderTransform>
                    <ContentPresenter Content="{TemplateBinding Content}"
                        HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
                        VerticalAlignment="{TemplateBinding VerticalContentAlignment}"
                        ContentStringFormat="{TemplateBinding ContentStringFormat}"
                        ContentTemplate="{TemplateBinding ContentTemplate}"
                        SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}" />
                </Border>
                <ControlTemplate.Triggers>
                    <MultiDataTrigger>
                        <MultiDataTrigger.Conditions>
                            <Condition Binding="{Binding HaftaSonlarıGizle, Source={x:Static properties:Settings.Default}}" Value="true" />
                            <Condition Binding="{Binding GünAdı}" Value="Cmt" />
                        </MultiDataTrigger.Conditions>
                        <Setter Property="Visibility" Value="Collapsed" />
                    </MultiDataTrigger>
                    <MultiDataTrigger>
                        <MultiDataTrigger.Conditions>
                            <Condition Binding="{Binding HaftaSonlarıGizle, Source={x:Static properties:Settings.Default}}" Value="true" />
                            <Condition Binding="{Binding GünAdı}" Value="Paz" />
                        </MultiDataTrigger.Conditions>
                        <Setter Property="Visibility" Value="Collapsed" />
                    </MultiDataTrigger>
                    <DataTrigger Value="true">
                        <DataTrigger.Binding>
                            <MultiBinding Converter="{StaticResource DateAnimationConverter}">
                                <Binding Path="TamTarih" />
                                <Binding Path="DataContext.AnimasyonTarih" RelativeSource="{RelativeSource AncestorType={x:Type Window}}" />
                            </MultiBinding>
                        </DataTrigger.Binding>
                        <DataTrigger.EnterActions>
                            <BeginStoryboard Storyboard="{StaticResource GrowListItem}" />
                        </DataTrigger.EnterActions>
                        <Setter Property="Panel.ZIndex" Value="1" />
                    </DataTrigger>
                    <MultiTrigger>
                        <MultiTrigger.Conditions>
                            <Condition Property="IsMouseOver" Value="True" />
                        </MultiTrigger.Conditions>
                        <MultiTrigger.EnterActions>
                            <BeginStoryboard Storyboard="{StaticResource StoryboardRotate}" />
                        </MultiTrigger.EnterActions>
                        <!--<Setter TargetName="Bd" Property="Background" Value="#1F26A0DA" />-->
                        <Setter TargetName="Bd" Property="BorderBrush" Value="#A826A0DA" />
                        <Setter TargetName="Bd" Property="CacheMode">
                            <Setter.Value>
                                <BitmapCache RenderAtScale="0.85" />
                            </Setter.Value>
                        </Setter>
                    </MultiTrigger>
                    <MultiTrigger>
                        <MultiTrigger.Conditions>
                            <Condition Property="Selector.IsSelectionActive" Value="False" />
                            <Condition Property="IsSelected" Value="True" />
                        </MultiTrigger.Conditions>
                        <Setter TargetName="Bd" Property="Background" Value="#3DDADADA" />
                        <Setter TargetName="Bd" Property="BorderBrush" Value="#FFDADADA" />
                    </MultiTrigger>
                    <MultiTrigger>
                        <MultiTrigger.Conditions>
                            <Condition Property="Selector.IsSelectionActive" Value="True" />
                            <Condition Property="IsSelected" Value="True" />
                        </MultiTrigger.Conditions>
                        <Setter TargetName="Bd" Property="Background" Value="#3D26A0DA" />
                        <Setter TargetName="Bd" Property="BorderBrush" Value="#FF26A0DA" />
                    </MultiTrigger>
                    <Trigger Property="IsEnabled" Value="False">
                        <Setter TargetName="Bd" Property="TextElement.Foreground" Value="{DynamicResource {x:Static SystemColors.GrayTextBrushKey}}" />
                    </Trigger>
                </ControlTemplate.Triggers>
            </ControlTemplate>
            <ControlTemplate x:Key="Bayrak">
                <Viewbox>
                    <Canvas Width="32.000" Height="21.333">
                        <Path Data="M 0.000,0.000 L 32.000,0.000 L 32.000,21.333 L 0.000,21.333 L 0.000,0.000 Z" Fill="Red" />
                        <Path Data="M 10.667,5.330 C 12.565,5.330 14.231,6.322 15.176,7.815 C 14.395,6.945 13.262,6.397 12.001,6.397 C 9.645,6.397 7.735,8.309 7.735,10.667 C 7.735,13.025 9.645,14.936 12.001,14.936 C 13.262,14.936 14.395,14.389 15.176,13.518 C 14.231,15.012 12.565,16.004 10.667,16.004 C 7.722,16.004 5.335,13.614 5.335,10.667 C 5.335,7.719 7.722,5.330 10.667,5.330 Z" Fill="White" />
                        <Path Data="M 15.215,10.667 L 17.169,10.038 L 17.165,7.993 L 18.368,9.650 L 20.320,9.014 L 19.110,10.667 L 20.320,12.319 L 18.368,11.683 L 17.165,13.341 L 17.169,11.295 L 15.215,10.667 Z" Fill="White" />
                    </Canvas>
                </Viewbox>
            </ControlTemplate>
            <ControlTemplate x:Key="Kurban">
                <Viewbox>
                    <Canvas Width="28.000" Height="29.900">
                        <Path Stroke="Black" StrokeEndLineCap="Round" StrokeLineJoin="Round"
                            StrokeStartLineCap="Round" StrokeThickness="2.0"
                            Data="F1 M 27.000,17.300 C 27.000,14.700 25.600,12.400 23.400,11.200 C 24.900,9.200 26.000,6.800 26.000,4.000 C 26.000,3.000 26.000,2.000 25.500,1.000 L 25.500,1.100 C 24.300,5.900 19.900,9.000 14.900,9.000 L 13.100,9.000 C 8.100,9.000 3.600,5.900 2.500,1.100 L 2.500,1.000 C 2.000,2.000 2.000,3.000 2.000,4.000 C 2.000,6.800 3.100,9.200 4.600,11.300 C 2.400,12.500 1.000,14.700 1.000,17.300 C 2.600,17.300 4.100,16.700 5.300,15.800 L 6.400,24.800 C 6.700,27.200 8.700,28.900 11.100,28.900 L 16.900,28.900 C 19.300,28.900 21.300,27.100 21.600,24.800 L 22.700,15.800 C 23.900,16.800 25.400,17.300 27.000,17.300 Z" />
                        <Path Stroke="Black" StrokeEndLineCap="Round" StrokeLineJoin="Round"
                            StrokeStartLineCap="Round" StrokeThickness="2.0"
                            Data="F1 M 7.000,23.000 L 21.000,23.000" />
                    </Canvas>
                </Viewbox>
            </ControlTemplate>
            <ControlTemplate x:Key="Ramazan">
                <Viewbox>
                    <Canvas Width="32.000" Height="32.000">
                        <Path Data="F1 M 0.406,31.594 L 0.406,31.594 C 0.946,32.135 1.823,32.135 2.364,31.594 L 15.477,18.481 L 13.518,16.523 L 0.406,29.636 C -0.135,30.177 -0.135,31.054 0.406,31.594 Z" Fill="#ff000000" />
                        <Path Data="F1 M 21.593,0.000 C 27.340,0.000 32.000,4.659 32.000,10.407 C 32.000,16.155 27.340,20.815 21.593,20.815 C 15.845,20.815 11.185,16.155 11.185,10.407 C 11.185,4.659 15.845,0.000 21.593,0.000 Z" Fill="#ffef9d9f" />
                        <Path Data="F1 M 21.593,19.098 C 16.134,19.098 11.658,14.895 11.221,9.549 C 11.198,9.832 11.186,10.118 11.186,10.407 C 11.186,16.155 15.845,20.814 21.593,20.814 C 27.341,20.814 32.000,16.155 32.000,10.407 C 32.000,10.118 31.988,9.832 31.965,9.549 C 31.528,14.895 27.052,19.098 21.593,19.098 Z" Fill="#ffee888f" />
                        <Path Data="F1 M 27.531,19.217 L 12.783,4.469 C 12.399,4.085 12.399,3.462 12.783,3.078 L 14.277,1.584 C 14.661,1.200 15.284,1.200 15.668,1.584 L 30.416,16.332 C 30.800,16.716 30.800,17.339 30.416,17.723 L 28.922,19.217 C 28.538,19.601 27.915,19.601 27.531,19.217 Z" Fill="#ffee888f" />
                        <Path Data="F1 M 24.961,3.092 C 25.833,3.092 26.540,3.799 26.540,4.671 C 26.540,5.543 25.833,6.250 24.961,6.250 C 24.089,6.250 23.382,5.543 23.382,4.671 C 23.382,3.799 24.089,3.092 24.961,3.092 Z" Fill="#ffee888f" />
                        <Path Data="F1 M 21.976,3.678 C 22.254,3.678 22.480,3.904 22.480,4.182 C 22.480,4.460 22.254,4.685 21.976,4.685 C 21.699,4.685 21.473,4.460 21.473,4.182 C 21.473,3.904 21.699,3.678 21.976,3.678 Z" Fill="#ffee888f" />
                    </Canvas>
                </Viewbox>
            </ControlTemplate>
            <ControlTemplate x:Key="TimePanel">
                <Grid>
                    <Ellipse Width="16" Height="16" Fill="{Binding XPath=@Renk}" />
                    <TextBlock Text="{Binding XPath=@Saat}"
                        HorizontalAlignment="Center" VerticalAlignment="Center"
                        FontSize="10" FontWeight="Bold">
                        <TextBlock.Style>
                            <Style TargetType="{x:Type TextBlock}">
                                <Style.Triggers>
                                    <DataTrigger Binding="{Binding XPath=@Saat}" Value="0">
                                        <Setter Property="Visibility" Value="Collapsed" />
                                    </DataTrigger>
                                </Style.Triggers>
                            </Style>
                        </TextBlock.Style>
                        <TextBlock.ToolTip>
                            <TextBlock Text="{Binding StringFormat=\{0\} Saatlik Etkinlik Düzenlendi, XPath=@Saat}" />
                        </TextBlock.ToolTip>
                    </TextBlock>
                </Grid>
            </ControlTemplate>
            <ObjectDataProvider x:Key="Renkler" MethodName="GetProperties" ObjectInstance="{x:Type Colors}" />
            <DataTemplate x:Key="ComboBoxRectItemTemplate">
                <Rectangle Width="16" Height="16"
                    Fill="{Binding Name, Converter={StaticResource StringToBrushConverter}}"
                    RadiusX="2" RadiusY="2"
                    ToolTip="{Binding Name}" />
            </DataTemplate>
            <ItemsPanelTemplate x:Key="CbItemsPanelTemplate">
                <WrapPanel Width="300" Height="350" IsItemsHost="True" Orientation="Horizontal" />
            </ItemsPanelTemplate>
            <Style x:Key="ComboBoxItemContainerStyle" TargetType="{x:Type ComboBoxItem}">
                <Style.Triggers>
                    <DataTrigger Binding="{Binding Name}" Value="Black">
                        <Setter Property="IsEnabled" Value="False" />
                    </DataTrigger>
                </Style.Triggers>
            </Style>
            <Style x:Key="ListBoxToolTipItemContainerStyle" TargetType="{x:Type ListBoxItem}">
                <Setter Property="BorderBrush" Value="Blue" />
                <Style.Triggers>
                    <DataTrigger Binding="{Binding XPath=@Onemli}" Value="true">
                        <Setter Property="Background" Value="Red" />
                    </DataTrigger>
                </Style.Triggers>
            </Style>
            <LinearGradientBrush x:Key="GroupBoxBackGround" ice:Freeze="True" MappingMode="RelativeToBoundingBox" StartPoint="0.5,0" EndPoint="0.5,1">
                <GradientStop ice:Freeze="True" Offset="1" Color="#FE00B6E8" />
                <GradientStop ice:Freeze="True" Color="#FF48F3CA" />
            </LinearGradientBrush>
            <LinearGradientBrush x:Key="BorderBackground" ice:Freeze="True" StartPoint="0.5,0" EndPoint="0.5,1">
                <GradientStop ice:Freeze="True" Offset="0" Color="#FFFDFEFF" />
                <GradientStop ice:Freeze="True" Offset="1" Color="#FFC1D3EA" />
            </LinearGradientBrush>
            <LinearGradientBrush x:Key="ReligiousDateHalfBackground" ice:Freeze="True" StartPoint="0,0" EndPoint="1,0">
                <LinearGradientBrush.RelativeTransform>
                    <RotateTransform Angle="45" CenterX="0.5" CenterY="0.5" />
                </LinearGradientBrush.RelativeTransform>
                <GradientStop Offset="0.5" Color="Transparent" />
                <GradientStop Offset="0.5" Color="{Binding DataContext.BayramTatilRenk, Converter={StaticResource BrushToColorConverter}, ElementName=Window}" />
            </LinearGradientBrush>
            <LinearGradientBrush x:Key="HolidayHalfBackground" ice:Freeze="True" StartPoint="0,0" EndPoint="1,0">
                <LinearGradientBrush.RelativeTransform>
                    <RotateTransform Angle="45" CenterX="0.5" CenterY="0.5" />
                </LinearGradientBrush.RelativeTransform>
                <GradientStop Offset="0.5" Color="Transparent" />
                <GradientStop Offset="0.5" Color="{Binding DataContext.ResmiTatilRenk, Converter={StaticResource BrushToColorConverter}, ElementName=Window}" />
            </LinearGradientBrush>
            <Style TargetType="{x:Type GroupBox}">
                <Setter Property="Background" Value="{StaticResource GroupBoxBackGround}" />
                <Setter Property="BorderBrush" Value="Black" />
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="{x:Type GroupBox}">
                            <Grid>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto" />
                                    <RowDefinition Height="*" />
                                </Grid.RowDefinitions>
                                <Border Grid.Row="0"
                                    Background="{TemplateBinding Background}"
                                    BorderBrush="{TemplateBinding BorderBrush}"
                                    BorderThickness="1"
                                    CornerRadius="3,3,0,0">
                                    <ContentPresenter Margin="4" ContentSource="Header" RecognizesAccessKey="True" />
                                </Border>
                                <Border Grid.Row="1"
                                    Background="{StaticResource BorderBackground}"
                                    BorderBrush="{TemplateBinding BorderBrush}"
                                    BorderThickness="1,0,1,1"
                                    CornerRadius="0,0,1,1">
                                    <ContentPresenter Margin="1" />
                                </Border>
                            </Grid>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
            </Style>
            <DataTemplate x:Key="ListBoxDataTemplate">
                <Canvas Width="30" Height="30" Background="Transparent">
                    <Canvas.InputBindings>
                        <MouseBinding Command="{Binding VeriEkleEkranı, Mode=OneWay}" MouseAction="LeftClick" />
                    </Canvas.InputBindings>
                    <TextBlock Canvas.Left="0" Width="30" Height="30" FontSize="10">
                        <TextBlock.Style>
                            <Style TargetType="{x:Type TextBlock}">
                                <Style.Triggers>
                                    <DataTrigger Binding="{Binding TamTarih, Converter={StaticResource DatePassedBooleanConverter}}" Value="true">
                                        <Setter Property="Foreground" Value="{DynamicResource {x:Static SystemColors.GrayTextBrushKey}}" />
                                    </DataTrigger>
                                </Style.Triggers>
                            </Style>
                        </TextBlock.Style><Run Text="{Binding Gün}" />
                        <Run DataContext="{Binding Converter={StaticResource DateNoteCountConverter}, Mode=OneWay}" FontSize="8">
                            <Run.Style>
                                <Style TargetType="{x:Type Run}">
                                    <Setter Property="Text" Value="{Binding VeriSayısı}" />
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding VeriSayısı}" Value="0">
                                            <Setter Property="Text" Value="" />
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </Run.Style>
                            <Run.ToolTip>
                                <ToolTip Template="{StaticResource GreenToolTipControlTemplate}">
                                    <ListBox ItemsSource="{Binding Converter={StaticResource SelectedDateToDataListConverter}, Mode=OneWay}" ItemContainerStyle="{StaticResource ListBoxToolTipItemContainerStyle}">
                                        <ListBox.ItemTemplate>
                                            <DataTemplate>
                                                <TextBlock Text="{Binding XPath=Aciklama}" />
                                            </DataTemplate>
                                        </ListBox.ItemTemplate>
                                    </ListBox>
                                </ToolTip>
                            </Run.ToolTip>
                        </Run><LineBreak /><Run Text="{Binding GünAdı}" />
                        <Run Foreground="Blue" FontSize="6" FontFamily="Segoe UI Symbol">
                            <Run.Style>
                                <Style TargetType="{x:Type Run}">
                                    <Setter Property="Text" Value="" />
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding Converter={StaticResource BilinenGünlerConverter}, Mode=OneWay}" Value="true">
                                            <Setter Property="Text" Value="◆" />
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </Run.Style>
                            <Run.ToolTip>
                                <ToolTip Template="{StaticResource GreenToolTipControlTemplate}">
                                    <ListBox ItemsSource="{Binding Günler, Source={StaticResource BilinenGünlerConverter}}" SelectedItem="{Binding Converter={StaticResource BilinenGünlerSeçiliConverter}, Mode=OneWay}">
                                        <ListBox.ItemTemplate>
                                            <DataTemplate>
                                                <TextBlock>
                                                    <TextBlock.Text>
                                                        <MultiBinding StringFormat="{}{0}/{1}/{2} {3}">
                                                            <Binding Path="Item2" />
                                                            <Binding Path="Item1" />
                                                            <Binding Path="DataContext.SeçiliYıl" RelativeSource="{RelativeSource FindAncestor, AncestorType={x:Type Window}}" />
                                                            <Binding Path="Item3" />
                                                        </MultiBinding>
                                                    </TextBlock.Text>
                                                </TextBlock>
                                            </DataTemplate>
                                        </ListBox.ItemTemplate>
                                        <ListBox.Style>
                                            <Style TargetType="{x:Type ListBox}">
                                                <Style.Resources>
                                                    <SolidColorBrush x:Key="{x:Static SystemColors.HighlightBrushKey}" Color="GreenYellow" />
                                                    <SolidColorBrush x:Key="{x:Static SystemColors.ControlBrushKey}" Color="GreenYellow" />
                                                </Style.Resources>
                                            </Style>
                                        </ListBox.Style>
                                    </ListBox>
                                </ToolTip>
                            </Run.ToolTip>
                        </Run><Run Text=" " /><Run Foreground="DarkMagenta" DataContext="{Binding Converter={StaticResource AyTekrarConverter}, Mode=OneWay}" FontSize="6" FontFamily="Segoe UI Symbol">
                            <Run.Style>
                                <Style TargetType="{x:Type Run}">
                                    <Setter Property="Text" Value="" />
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding AyTekrar, Mode=OneWay}" Value="true">
                                            <Setter Property="Text" Value="◆" />
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </Run.Style>
                            <Run.ToolTip>
                                <ToolTip Template="{StaticResource GreenToolTipControlTemplate}">
                                    <ListBox ItemsSource="{Binding Converter={StaticResource AyTekrarDataConverter}, Mode=OneWay}">
                                        <ListBox.ItemTemplate>
                                            <DataTemplate>
                                                <TextBlock>
                                                <Run Text="{Binding GünNotAçıklama}" />
                                                <Run Text="{Binding TamTarih, StringFormat=\{0:d\}}" Language="tr-tr" />
                                                </TextBlock>
                                            </DataTemplate>
                                        </ListBox.ItemTemplate>
                                    </ListBox>
                                </ToolTip>
                            </Run.ToolTip>
                        </Run></TextBlock>
                    <ContentControl Canvas.Top="0" Canvas.Right="-4"
                        Width="16" Height="10"
                        IsTabStop="False" RenderTransformOrigin="0.5,0.5">
                        <ContentControl.Style>
                            <Style TargetType="{x:Type ContentControl}">
                                <Setter Property="Content" Value="{x:Null}" />
                                <Style.Triggers>
                                    <DataTrigger Binding="{Binding Converter={StaticResource GünTatilConverter}, Mode=OneWay}" Value="true">
                                        <Setter Property="Template" Value="{StaticResource Bayrak}" />
                                    </DataTrigger>
                                </Style.Triggers>
                            </Style>
                        </ContentControl.Style>
                    </ContentControl>
                    <ContentControl Canvas.Right="-4" Canvas.Bottom="7"
                        Width="8" Height="10"
                        IsTabStop="False" RenderTransformOrigin="0.5,0.5">
                        <ContentControl.Style>
                            <Style TargetType="{x:Type ContentControl}">
                                <Setter Property="Content" Value="{x:Null}" />
                                <Style.Triggers>
                                    <DataTrigger Binding="{Binding TamTarih, Converter={StaticResource FeastoftheSacrificeDateToHolidayConverter}, Mode=OneWay}" Value="true">
                                        <Setter Property="Template" Value="{StaticResource Kurban}" />
                                    </DataTrigger>
                                    <DataTrigger Binding="{Binding TamTarih, Converter={StaticResource FeastoftheSacrificeDateToHolidayConverter}, Mode=OneWay}" Value="{x:Null}">
                                        <Setter Property="Template" Value="{StaticResource Kurban}" />
                                    </DataTrigger>
                                    <DataTrigger Binding="{Binding TamTarih, Converter={StaticResource RamadanDateToHolidayConverter}, Mode=OneWay}" Value="true">
                                        <Setter Property="Template" Value="{StaticResource Ramazan}" />
                                    </DataTrigger>
                                    <DataTrigger Binding="{Binding TamTarih, Converter={StaticResource RamadanDateToHolidayConverter}, Mode=OneWay}" Value="{x:Null}">
                                        <Setter Property="Template" Value="{StaticResource Ramazan}" />
                                    </DataTrigger>
                                </Style.Triggers>
                            </Style>
                        </ContentControl.Style>
                    </ContentControl>
                </Canvas>
            </DataTemplate>
            <Style x:Key="ListBoxItemContainerStyle" TargetType="{x:Type ListBoxItem}">
                <Setter Property="IsTabStop" Value="False" />
                <Setter Property="Margin" Value="1" />
                <Style.Triggers>
                    <DataTrigger Binding="{Binding GünAdı}" Value="Cmt">
                        <Setter Property="Background" Value="{Binding DataContext.SeçiliRenkCmt, ElementName=Window}" />
                    </DataTrigger>
                    <DataTrigger Binding="{Binding GünAdı}" Value="Paz">
                        <Setter Property="Background" Value="{Binding DataContext.SeçiliRenkPaz, ElementName=Window}" />
                    </DataTrigger>
                    <DataTrigger Binding="{Binding Converter={StaticResource GünTatilConverter}, Mode=OneWay}" Value="true">
                        <Setter Property="Background" Value="{Binding DataContext.ResmiTatilRenk, ElementName=Window}" />
                    </DataTrigger>
                    <DataTrigger Binding="{Binding Converter={StaticResource GünTatilConverter}, Mode=OneWay}" Value="{x:Null}">
                        <Setter Property="Background" Value="{StaticResource HolidayHalfBackground}" />
                    </DataTrigger>
                    <DataTrigger Binding="{Binding TamTarih, Converter={StaticResource RamadanDateToHolidayConverter}, Mode=OneWay}" Value="true">
                        <Setter Property="Background" Value="{Binding DataContext.BayramTatilRenk, ElementName=Window}" />
                    </DataTrigger>
                    <DataTrigger Binding="{Binding TamTarih, Converter={StaticResource RamadanDateToHolidayConverter}, Mode=OneWay}" Value="{x:Null}">
                        <Setter Property="Background" Value="{StaticResource ReligiousDateHalfBackground}" />
                    </DataTrigger>
                    <DataTrigger Binding="{Binding TamTarih, Converter={StaticResource FeastoftheSacrificeDateToHolidayConverter}, Mode=OneWay}" Value="true">
                        <Setter Property="Background" Value="{Binding DataContext.BayramTatilRenk, ElementName=Window}" />
                    </DataTrigger>
                    <DataTrigger Binding="{Binding TamTarih, Converter={StaticResource FeastoftheSacrificeDateToHolidayConverter}, Mode=OneWay}" Value="{x:Null}">
                        <Setter Property="Background" Value="{StaticResource ReligiousDateHalfBackground}" />
                    </DataTrigger>
                </Style.Triggers>
            </Style>
            <DrawingBrush x:Key="Dur" ice:Freeze="True" Stretch="Uniform">
                <DrawingBrush.Drawing>
                    <DrawingGroup>
                        <GeometryDrawing Brush="Black" ice:Freeze="True" Geometry="F1 M 5.27184,18L 0,12.7282L 0,5.27184L 5.27184,1.90735e-006L 12.7282,1.90735e-006L 18,5.27184L 18,12.7282L 12.7282,18L 5.27184,18 Z " />
                        <GeometryDrawing Brush="White" ice:Freeze="True" Geometry="F1 M 5.38416,17.7293L 0.26928,12.6158L 0.26928,5.38416L 5.38416,0.269283L 12.6158,0.270723L 17.7293,5.38416L 17.7293,12.6158L 12.6158,17.7293L 5.38416,17.7293 Z " />
                        <GeometryDrawing Brush="Red" ice:Freeze="True" Geometry="F1 M 0.684,12.4445L 0.684,5.55552L 5.55552,0.684002L 12.4445,0.684002L 17.316,5.55552L 17.316,12.4445L 12.4445,17.316L 5.55552,17.316L 0.684,12.4445 Z " />
                        <GeometryDrawing Brush="White" ice:Freeze="True" Geometry="F1 M 1.55447,11.6578L 1.55447,6.52443L 3.39926,6.52443C 5.2494,6.52443 6.17447,7.35859 6.17447,9.02693C 6.17447,9.82596 5.922,10.4642 5.41707,10.9416C 4.91214,11.419 4.23954,11.6578 3.39926,11.6578L 1.55447,11.6578 Z M 2.7278,7.47776L 2.7278,10.7044L 3.3053,10.7044C 3.81176,10.7044 4.20879,10.5553 4.4964,10.257C 4.784,9.95868 4.9278,9.55287 4.9278,9.03953C 4.9278,8.55446 4.78515,8.1729 4.49983,7.89485C 4.21452,7.61679 3.81405,7.47776 3.29843,7.47776L 2.7278,7.47776 Z " />
                        <GeometryDrawing Brush="White" ice:Freeze="True" Geometry="F1 M 11.1611,9.42568C 11.1611,10.9626 10.4416,11.7311 9.00239,11.7311C 7.606,11.7311 6.9078,10.9806 6.9078,9.47953L 6.9078,6.52443L 8.08114,6.52443L 8.08114,9.47151C 8.08114,10.2935 8.40197,10.7044 9.04364,10.7044C 9.67308,10.7044 9.9878,10.3076 9.9878,9.51391L 9.9878,6.52443L 11.1611,6.52443L 11.1611,9.42568 Z " />
                        <GeometryDrawing Brush="White" ice:Freeze="True" Geometry="F1 M 16.5225,11.6578L 15.1945,11.6578L 14.4233,10.3274C 14.366,10.2259 14.3108,10.1355 14.2577,10.0565C 14.2047,9.9774 14.151,9.9096 14.0968,9.85307C 14.0425,9.79655 13.986,9.75319 13.9272,9.72302C 13.8684,9.69285 13.8046,9.67776 13.7358,9.67776L 13.4345,9.67776L 13.4345,11.6578L 12.2611,11.6578L 12.2611,6.52443L 14.0773,6.52443C 15.311,6.52443 15.9278,6.98773 15.9278,7.91432C 15.9278,8.09231 15.9009,8.25674 15.847,8.40761C 15.7932,8.55847 15.7172,8.69445 15.619,8.81552C 15.5208,8.9366 15.4022,9.04106 15.2632,9.12891C 15.1242,9.21675 14.9695,9.2855 14.7992,9.33516L 14.7992,9.35005C 14.874,9.37373 14.9466,9.4125 15.0169,9.46635C 15.0871,9.52021 15.1549,9.58323 15.2202,9.65542C 15.2856,9.7276 15.3482,9.80514 15.4082,9.88802C 15.4681,9.9709 15.5226,10.0521 15.5714,10.1315L 16.5225,11.6578 Z M 13.4345,7.40443L 13.4345,8.79776L 13.9054,8.79776C 14.1384,8.79776 14.3252,8.72787 14.4657,8.58807C 14.6093,8.44599 14.6811,8.2703 14.6811,8.06099C 14.6811,7.62328 14.4291,7.40443 13.9249,7.40443L 13.4345,7.40443 Z " />
                    </DrawingGroup>
                </DrawingBrush.Drawing>
            </DrawingBrush>
            <ControlTemplate x:Key="ValidationErrorTemplate">
                <Grid Focusable="False">
                    <AdornedElementPlaceholder x:Name="Adorner" />
                    <Canvas Width="18" Height="18"
                        Background="{StaticResource Dur}"
                        HorizontalAlignment="Center" VerticalAlignment="Center"
                        DataContext="{Binding ElementName=Adorner, Mode=OneWay}"
                        RenderTransformOrigin="0.5,0.5" UseLayoutRounding="True">
                        <Canvas.ToolTip>
                            <ToolTip Foreground="{x:Null}" Background="{x:Null}" BorderBrush="{x:Null}">
                                <Border Background="Red" BorderBrush="White" BorderThickness="1" Padding="4">
                                    <TextBlock Text="{Binding AdornedElement.(Validation.Errors)/ErrorContent, Mode=OneWay}" Foreground="White" />
                                </Border>
                            </ToolTip>
                        </Canvas.ToolTip>
                        <Canvas.Style>
                            <Style>
                                <Style.Triggers>
                                    <EventTrigger RoutedEvent="FrameworkElement.Loaded">
                                        <BeginStoryboard>
                                            <Storyboard AutoReverse="True" RepeatBehavior="Forever" Timeline.DesiredFrameRate="2">
                                                <DoubleAnimationUsingKeyFrames Storyboard.TargetProperty="(UIElement.RenderTransform).(TransformGroup.Children)[2].(RotateTransform.Angle)">
                                                    <EasingDoubleKeyFrame KeyTime="0" Value="45" />
                                                    <EasingDoubleKeyFrame KeyTime="0:0:0.5" Value="0" />
                                                </DoubleAnimationUsingKeyFrames>
                                            </Storyboard>
                                        </BeginStoryboard>
                                    </EventTrigger>
                                </Style.Triggers>
                            </Style>
                        </Canvas.Style>
                        <Canvas.RenderTransform>
                            <TransformGroup>
                                <ScaleTransform />
                                <SkewTransform />
                                <RotateTransform />
                                <TranslateTransform />
                            </TransformGroup>
                        </Canvas.RenderTransform>
                    </Canvas>
                </Grid>
            </ControlTemplate>
            <DrawingImage x:Key="EmptyImg" ice:Freeze="true">
                <DrawingImage.Drawing>
                    <DrawingGroup>
                        <GeometryDrawing Brush="#FFFF0000" Geometry="F1 M 17.112,60.8819L 15.7309,62.263L 11.2784,61.125C 10.8585,61.0233 10.4825,60.9559 10.1503,60.9228C 9.8181,60.8896 9.51501,60.8937 9.241,60.9349C 8.967,60.9762 8.71325,61.0605 8.47976,61.1879C 8.24626,61.3154 8.01535,61.4932 7.78701,61.7216L 6.78822,62.7204L 11.0309,66.963L 9.8995,68.0944L -1.19209e-007,58.1949L 3.01183,55.1831C 3.45377,54.7411 3.91524,54.3879 4.39622,54.1235C 4.8772,53.8591 5.36517,53.6996 5.86015,53.6451C 6.35512,53.5906 6.8442,53.6502 7.32739,53.8241C 7.81058,53.9979 8.27241,54.3051 8.71288,54.7455C 9.0576,55.0902 9.32018,55.4596 9.50064,55.8537C 9.6811,56.2478 9.78533,56.6555 9.81332,57.0768C 9.84131,57.4981 9.79601,57.9264 9.67742,58.3617C 9.55883,58.797 9.37064,59.232 9.11284,59.6666L 9.13935,59.6931C 9.38537,59.5944 9.61923,59.5284 9.84094,59.4953C 10.0626,59.4622 10.2958,59.4529 10.5403,59.4677C 10.7849,59.4824 11.0456,59.5148 11.3225,59.5649C 11.5995,59.615 11.9155,59.6791 12.2705,59.7572L 17.112,60.8819 Z M 2.12132,58.0535L 5.79827,61.7304L 7.41136,60.1173C 7.70746,59.8212 7.9369,59.5019 8.09969,59.1594C 8.26247,58.8169 8.35196,58.4704 8.36817,58.1198C 8.38437,57.7691 8.32324,57.4207 8.18476,57.0746C 8.04629,56.7284 7.82605,56.4043 7.52406,56.1023C 6.98194,55.5602 6.38311,55.3127 5.72756,55.3598C 5.07202,55.407 4.41205,55.7627 3.74767,56.4271L 2.12132,58.0535 Z " />
                        <GeometryDrawing Brush="#FFFF0000" Geometry="F1 M 20.294,51.1945L 15.3442,56.1443C 16.1309,56.8926 16.9363,57.2723 17.7605,57.2834C 18.5848,57.2944 19.3534,56.9435 20.0664,56.2305C 20.8678,55.4291 21.3679,54.4575 21.5668,53.3158L 22.6031,54.3522C 22.4249,55.4114 21.826,56.4507 20.8066,57.4701C 19.8108,58.4659 18.7096,58.9292 17.5031,58.86C 16.2966,58.7908 15.1144,58.1772 13.9565,57.0193C 12.8635,55.9263 12.2805,54.7282 12.2075,53.4252C 12.1346,52.1222 12.5548,51.0141 13.4682,50.1007C 14.38,49.1889 15.3829,48.7804 16.4767,48.8754C 17.5705,48.9705 18.6463,49.5468 19.704,50.6045L 20.294,51.1945 Z M 18.1726,51.3359C 17.5436,50.7158 16.9006,50.3865 16.2436,50.3482C 15.5865,50.3099 14.9826,50.5662 14.4316,51.1172C 13.8998,51.649 13.631,52.2832 13.6251,53.0197C 13.6192,53.7563 13.8674,54.4627 14.3697,55.1389L 18.1726,51.3359 Z " />
                        <GeometryDrawing Brush="#FFFF0000" Geometry="F1 M 24.5233,52.8783L 23.2638,51.6188C 24.3539,51.4715 25.2702,51.0266 26.0127,50.2841C 27.0085,49.2883 27.1919,48.4759 26.5629,47.8468C 26.3758,47.6597 26.1744,47.5437 25.9585,47.4988C 25.7427,47.4539 25.5115,47.4539 25.2647,47.4988C 25.018,47.5437 24.7557,47.6247 24.478,47.7419C 24.2004,47.859 23.9046,47.9875 23.5908,48.1275C 23.1548,48.319 22.7545,48.4711 22.3899,48.5838C 22.0253,48.6965 21.6839,48.7535 21.3657,48.755C 21.0475,48.7565 20.7473,48.6972 20.4652,48.5771C 20.1831,48.4571 19.9073,48.2622 19.6377,47.9927C 19.3077,47.6627 19.0926,47.2944 18.9924,46.8878C 18.8923,46.4812 18.8838,46.0647 18.967,45.6382C 19.0503,45.2117 19.2119,44.7915 19.4521,44.3776C 19.6922,43.9636 19.9861,43.5828 20.3337,43.2352C 20.951,42.6179 21.6161,42.1782 22.3291,41.916L 23.5467,43.1335C 22.6392,43.2867 21.8408,43.708 21.1513,44.3975C 20.9348,44.614 20.7624,44.832 20.6343,45.0515C 20.5061,45.271 20.4214,45.4846 20.3801,45.6924C 20.3389,45.9001 20.3422,46.0956 20.3901,46.279C 20.438,46.4624 20.5319,46.6241 20.6718,46.7641C 20.8545,46.9467 21.0412,47.0664 21.232,47.1231C 21.4228,47.1799 21.6308,47.1913 21.8562,47.1574C 22.0816,47.1235 22.3262,47.0528 22.5898,46.9453C 22.8535,46.8377 23.1489,46.7118 23.4759,46.5674C 23.9105,46.3715 24.3156,46.2116 24.6913,46.0879C 25.0669,45.9641 25.4216,45.8931 25.7553,45.8747C 26.0889,45.8562 26.406,45.9023 26.7065,46.0128C 27.0071,46.1232 27.2995,46.3206 27.5838,46.605C 27.9315,46.9526 28.1568,47.3312 28.26,47.7408C 28.3631,48.1503 28.3704,48.5679 28.2821,48.9937C 28.1937,49.4194 28.0235,49.8407 27.7716,50.2576C 27.5197,50.6745 27.2104,51.0664 26.8435,51.4332C 26.1202,52.1565 25.3468,52.6382 24.5233,52.8783 Z " />
                        <GeometryDrawing Brush="#FFFF0000" Geometry="F1 M 22.8329,37.3419C 22.6385,37.5363 22.4068,37.6354 22.138,37.6391C 21.8691,37.6428 21.633,37.543 21.4298,37.3397C 21.225,37.1349 21.1233,36.897 21.1248,36.6259C 21.1263,36.3549 21.2242,36.1221 21.4187,35.9277C 21.6176,35.7288 21.8536,35.6275 22.1269,35.6238C 22.4002,35.6201 22.6392,35.7207 22.844,35.9254C 23.0384,36.1199 23.1349,36.3549 23.1334,36.6303C 23.132,36.9058 23.0318,37.143 22.8329,37.3419 Z M 32.3148,45.6791L 31.1834,46.8105L 24.1123,39.7394L 25.2437,38.608L 32.3148,45.6791 Z " />
                        <GeometryDrawing Brush="#FFFF0000" Geometry="F1 M 44.7599,33.234L 43.6285,34.3654L 39.6068,30.3437C 38.8319,29.5688 38.148,29.1317 37.5551,29.0323C 36.9622,28.9328 36.374,29.1748 35.7906,29.7581C 35.2957,30.2531 35.0942,30.8921 35.1863,31.6751C 35.2784,32.458 35.6301,33.1552 36.2414,33.7666L 40.2344,37.7595L 39.103,38.8909L 34.9465,34.7344C 33.5692,33.357 32.3325,33.2163 31.2364,34.3124C 30.7282,34.8206 30.5157,35.4456 30.5989,36.1873C 30.6822,36.929 31.0545,37.6306 31.7159,38.292L 35.7089,42.285L 34.5775,43.4164L 27.5065,36.3453L 28.6378,35.2139L 29.8178,36.3939L 29.8465,36.3652C 29.4753,34.9745 29.7788,33.7901 30.7569,32.812C 31.249,32.3199 31.8158,32.0294 32.4573,31.9402C 33.0989,31.8511 33.7113,31.9627 34.2947,32.275C 33.8277,30.7415 34.1223,29.4466 35.1786,28.3903C 36.7578,26.8111 38.5042,26.9783 40.4178,28.8919L 44.7599,33.234 Z " />
                        <GeometryDrawing Brush="#FFFF0000" Geometry="F1 M 47.164,11.0309L 50.1339,20.5061L 53.8108,24.1831L 52.6795,25.3144L 49.029,21.664L 39.6687,18.5262L 40.9879,17.207L 47.6104,19.5515C 47.6914,19.5795 47.9713,19.7047 48.4501,19.9272L 48.47,19.9073C 48.3595,19.7054 48.2424,19.4174 48.1186,19.0433L 45.8912,12.3037L 47.164,11.0309 Z " />
                        <GeometryDrawing Brush="#FFFF0000" Geometry="F1 M 60.0621,18.2146C 59.022,19.2547 57.8634,19.757 56.5862,19.7217C 55.309,19.6863 54.1283,19.1265 53.0441,18.0423C 51.8641,16.8623 51.2656,15.6179 51.2487,14.309C 51.2317,13.0001 51.7735,11.7954 52.8739,10.695C 53.9228,9.64612 55.0641,9.1493 56.2979,9.20455C 57.5316,9.25978 58.7208,9.85972 59.8654,11.0044C 60.985,12.1239 61.5647,13.3385 61.6045,14.6482C 61.6442,15.9578 61.1301,17.1466 60.0621,18.2146 Z M 53.7821,11.7667C 53.0499,12.4989 52.713,13.3198 52.7711,14.2294C 52.8293,15.1391 53.2834,16.0189 54.1334,16.8689C 54.9525,17.688 55.8139,18.1185 56.7177,18.1605C 57.6215,18.2025 58.4343,17.8626 59.1561,17.1407C 59.8927,16.4041 60.2271,15.6064 60.1593,14.7476C 60.0916,13.8888 59.6297,13.0314 58.7738,12.1755C 57.9091,11.3108 57.0451,10.8423 56.1818,10.7701C 55.3186,10.6979 54.5187,11.0301 53.7821,11.7667 Z " />
                        <GeometryDrawing Brush="#FFFF0000" Geometry="F1 M 71.2057,6.78823L 69.6169,8.37701L 63.0275,8.1693L 62.9988,8.19802L 66.3973,11.5966L 65.266,12.7279L 54.8008,2.26274L 55.9321,1.13137L 62.5657,7.76492L 62.5944,7.73619L 62.369,1.48271L 63.8517,2.86102e-006L 63.9401,6.73519L 71.2057,6.78823 Z " />
                    </DrawingGroup>
                </DrawingImage.Drawing>
            </DrawingImage>
            <Style x:Key="GünListBoxItemContainerStyle" TargetType="{x:Type ListBoxItem}">
                <Setter Property="HorizontalContentAlignment" Value="Stretch" />
                <Setter Property="BorderThickness" Value="2.5" />
                <Setter Property="BorderBrush" Value="{Binding Converter={StaticResource StringToBrushConverter}, XPath=@Renk}" />
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="{x:Type ListBoxItem}">
                            <Border BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="{TemplateBinding BorderThickness}" CornerRadius="3">
                                <ContentPresenter />
                            </Border>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
            </Style>
            <DataTemplate x:Key="ListBoxAyDataTemplate">
                <StackPanel Background="Transparent" Orientation="Horizontal">
                    <StackPanel.InputBindings>
                        <MouseBinding Command="{Binding VeriEkleEkranı, Mode=OneWay}" MouseAction="LeftClick" />
                    </StackPanel.InputBindings>
                    <TextBlock Margin="0,0,5,0" VerticalAlignment="Center" FontSize="14">
                        <TextBlock.Style>
                            <Style TargetType="{x:Type TextBlock}">
                                <Style.Triggers>
                                    <DataTrigger Binding="{Binding TamTarih, Converter={StaticResource DatePassedBooleanConverter}}" Value="true">
                                        <Setter Property="Foreground" Value="{DynamicResource {x:Static SystemColors.GrayTextBrushKey}}" />
                                    </DataTrigger>
                                </Style.Triggers>
                            </Style>
                        </TextBlock.Style><Run Text="{Binding Gün}" /><LineBreak /><Run Text="{Binding GünAdı}" /></TextBlock>
                    <ListBox Width="120" Height="130"
                        VerticalAlignment="Center"
                        ItemsSource="{Binding Converter={StaticResource SelectedDateToDataListConverter}, Mode=OneWay}"
                        local:MovableControl.MoveData="True" AllowDrop="True">
                        <ListBox.ItemsPanel>
                            <ItemsPanelTemplate>
                                <VirtualizingStackPanel />
                            </ItemsPanelTemplate>
                        </ListBox.ItemsPanel>
                        <ListBox.ItemTemplate>
                            <DataTemplate>
                                <StackPanel Orientation="Horizontal">
                                    <Canvas Width="18" Height="18"
                                        Background="Transparent"
                                        VerticalAlignment="Stretch"
                                        local:MovableControl.MoveData="True">
                                        <Canvas.Style>
                                            <Style TargetType="{x:Type Canvas}">
                                                <Setter Property="TextElement.Foreground" Value="Red" />
                                                <Setter Property="Cursor" Value="SizeAll" />
                                                <Style.Triggers>
                                                    <DataTrigger Binding="{Binding XPath=@Kilitli}" Value="true">
                                                        <Setter Property="IsEnabled" Value="False" />
                                                        <Setter Property="TextElement.Foreground" Value="Gray" />
                                                    </DataTrigger>
                                                </Style.Triggers>
                                            </Style>
                                        </Canvas.Style>
                                        <TextBlock x:Name="Tb"
                                            Text="B"
                                            FontSize="18" FontFamily="Wingdings" FontWeight="Bold" />
                                    </Canvas>
                                    <Expander BorderBrush="{Binding Converter={StaticResource StringToBrushConverter}, XPath=@Renk}" BorderThickness="2" VerticalAlignment="Center">
                                        <Expander.Header>
                                            <StackPanel Orientation="Horizontal">
                                                <TextBlock VerticalAlignment="Center">
                                                    <TextBlock.Style>
                                                        <Style TargetType="{x:Type TextBlock}">
                                                            <Style.Triggers>
                                                                <DataTrigger Binding="{Binding XPath=@Onemli}" Value="true">
                                                                    <Setter Property="Foreground" Value="Red" />
                                                                </DataTrigger>
                                                            </Style.Triggers>
                                                        </Style>
                                                    </TextBlock.Style><Hyperlink x:Name="Hyp"
                                                        Command="{Binding XmlVeriSil, Mode=OneWay, Source={StaticResource Data}}"
                                                        CommandParameter="{Binding XPath=@Id}"
                                                        FontSize="12" FontFamily="Segoe UI Black">
                                                        <Run Text="X" />
                                                    </Hyperlink>
                                                    <Run Text="{Binding XPath=@SaatBaslangic}" />
                                                    <LineBreak />
                                                    <Run Text="{Binding XPath=Aciklama}" />
                                                </TextBlock>
                                            </StackPanel>
                                        </Expander.Header>
                                        <Image Width="48" Height="48" Source="{Binding ConverterParameter=48, Converter={StaticResource Base64ImageConverter}, IsAsync=True, XPath=Resim}">
                                            <Image.Style>
                                                <Style TargetType="{x:Type Image}">
                                                    <Style.Triggers>
                                                        <DataTrigger Binding="{Binding XPath=Resim}" Value="{x:Null}">
                                                            <Setter Property="Visibility" Value="Collapsed" />
                                                        </DataTrigger>
                                                    </Style.Triggers>
                                                </Style>
                                            </Image.Style>
                                            <Image.ToolTip>
                                                <ToolTip Template="{StaticResource GreenToolTipControlTemplate}">
                                                    <Image Source="{Binding Converter={StaticResource Base64ImageConverter}, XPath=Resim}" />
                                                </ToolTip>
                                            </Image.ToolTip>
                                        </Image>
                                    </Expander>
                                </StackPanel>
                            </DataTemplate>
                        </ListBox.ItemTemplate>
                    </ListBox>
                </StackPanel>
            </DataTemplate>
            <Style x:Key="ListBoxYılGroupStyle" TargetType="{x:Type GroupItem}">
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="{x:Type GroupItem}">
                            <GroupBox Background="{Binding Name, Converter={StaticResource ŞuAnkiAyColorConverter}}" Margin="1">
                                <GroupBox.Header>
                                    <TextBlock Text="{Binding Name, Mode=OneWay}" FontWeight="Bold" TextAlignment="Center" />
                                </GroupBox.Header>
                                <Border Background="{Binding DataContext.GövdeRenk, ElementName=Window}">
                                    <ItemsPresenter />
                                </Border>
                            </GroupBox>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
            </Style>
        </ResourceDictionary>
    </Application.Resources>
</Application>