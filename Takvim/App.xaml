<Application x:Class="Takvim.App"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:System="clr-namespace:System;assembly=mscorlib"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:ice="http://schemas.microsoft.com/winfx/2006/xaml/presentation/options"
    xmlns:local="clr-namespace:Takvim" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:properties="clr-namespace:Takvim.Properties"
    Exit="Application_Exit" Startup="Application_Startup"
    mc:Ignorable="d">
    <Application.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="/PresentationFramework.Aero,Version=4.0.0.0,Culture=neutral,PublicKeyToken=31bf3856ad364e35,processorArchitecture=MSIL;component/themes/Aero.NormalColor.xaml" />
                <ResourceDictionary Source="/Takvim;component/Themes/Generic.xaml" />
            </ResourceDictionary.MergedDictionaries>
            <local:StringNullableToBooleanConverter x:Key="StringNullableToBooleanConverter" />
            <local:NullableToBooleanConverter x:Key="NullableToBooleanConverter" />
            <local:MonthToColorConverter x:Key="MonthToColorConverter" />
            <local:Shell32FileIconConverter x:Key="Shell32FileIconConverter" />
            <local:RegistryToIconConverter x:Key="RegistryToIconConverter" />
            <local:FilePathToIconConverter x:Key="FilePathToIconConverter" />
            <local:XmlDateConverter x:Key="XmlDateConverter" />
            <local:Base64ImageConverter x:Key="Base64ImageConverter" />
            <local:AyTekrarDataConverter x:Key="AyTekrarDataConverter" />
            <local:AyTekrarConverter x:Key="AyTekrarConverter" />
            <local:BilinenGünlerSeçiliConverter x:Key="BilinenGünlerSeçiliConverter" />
            <local:BilinenGünlerConverter x:Key="BilinenGünlerConverter" />
            <local:DatePassedBooleanConverter x:Key="DatePassedBooleanConverter" />
            <XmlDataProvider x:Key="XmlData" IsAsynchronous="False" XPath="Veriler/Veri" />
            <local:DateAnimationConverter x:Key="DateAnimationConverter" />
            <local:StringToBrushConverter x:Key="StringToBrushConverter" />
            <local:GünTatilConverter x:Key="GünTatilConverter" />
            <local:RamadanDateToHolidayConverter x:Key="RamadanDateToHolidayConverter" />
            <local:FeastoftheSacrificeDateToHolidayConverter x:Key="FeastoftheSacrificeDateToHolidayConverter" />
            <local:BrushToColorConverter x:Key="BrushToColorConverter" />
            <local:AnimationtoBooleanConverter x:Key="AnimationtoBooleanConverter" />
            <local:SelectedDateToDataListConverter x:Key="SelectedDateToDataListConverter" />
            <local:WebpByteArrayToImageConverter x:Key="WebpByteArrayToImageConverter" />
            <Storyboard x:Key="TimerColorAnimation" RepeatBehavior="Forever" Timeline.DesiredFrameRate="3">
                <ColorAnimation Storyboard.TargetProperty="(Border.BorderBrush).(SolidColorBrush.Color)" From="Yellow" To="Red"
                    Duration="00:00:01" />
            </Storyboard>
            <ControlTemplate x:Key="SimpleButtonTemplate" TargetType="{x:Type Button}">
                <Border Background="{TemplateBinding Background}"
                    BorderBrush="{Binding Converter={StaticResource StringToBrushConverter}, XPath=@Renk}"
                    BorderThickness="2.5"
                    CornerRadius="10" />
            </ControlTemplate>
            <LinearGradientBrush x:Key="GroupBoxBackGround" ice:Freeze="True" MappingMode="RelativeToBoundingBox" StartPoint="0.5,0" EndPoint="0.5,1">
                <GradientStop ice:Freeze="True" Offset="1" Color="#FE00B6E8" />
                <GradientStop ice:Freeze="True" Color="#FF48F3CA" />
            </LinearGradientBrush>
            <ControlTemplate x:Key="GreenToolTipControlTemplate" TargetType="{x:Type ToolTip}">
                <Border BorderBrush="{DynamicResource GroupBoxBackGround}" BorderThickness="2.5">
                    <ContentPresenter />
                </Border>
            </ControlTemplate>
            <ControlTemplate x:Key="Eye">
                <Border Width="{TemplateBinding Width}" Height="{TemplateBinding Height}">
                    <Border.Background>
                        <DrawingBrush ice:Freeze="True" Stretch="Uniform">
                            <DrawingBrush.Drawing>
                                <DrawingGroup>
                                    <DrawingGroup ClipGeometry="M 1.36121e-009,-2.563e-006L 32,-2.563e-006L 32,28.4459L 1.36121e-009,28.4459L 1.36121e-009,-2.563e-006 Z ">
                                        <GeometryDrawing Brush="Blue" ice:Freeze="True" Geometry="M 31.6308,12.8691C 28.4983,7.55306 22.6561,4.00015 15.9999,4.00015C 9.34106,4.00015 3.50011,7.55562 0.369211,12.8691C -0.123024,13.7045 -0.123024,14.7415 0.369211,15.577C 3.50167,20.8928 9.3439,24.4458 15.9999,24.4458C 22.6589,24.4458 28.4998,20.8904 31.6308,15.5768C 32.1232,14.7414 32.1232,13.7045 31.6308,12.8691 Z M 15.9999,21.7789C 10.3023,21.7789 5.32824,18.7399 2.66654,14.2229C 5.11974,10.0599 9.53761,7.15211 14.6757,6.72215C 15.2198,7.28254 15.5555,8.0466 15.5555,8.88932C 15.5555,10.6077 14.1627,12.0006 12.4444,12.0006C 10.7262,12.0006 9.33323,10.6077 9.33323,8.88932L 9.33338,8.88704C 8.76634,9.94736 8.44434,11.1586 8.44434,12.4451C 8.44434,16.6182 11.8271,20.0011 15.9999,20.0011C 20.1729,20.0011 23.5555,16.6182 23.5555,12.4451C 23.5555,10.7211 22.9778,9.13224 22.0059,7.86071C 25.0947,9.14703 27.6672,11.3954 29.3333,14.2229C 26.6718,18.7399 21.6975,21.7789 15.9999,21.7789 Z " />
                                    </DrawingGroup>
                                </DrawingGroup>
                            </DrawingBrush.Drawing>
                        </DrawingBrush>
                    </Border.Background>
                </Border>
            </ControlTemplate>
            <ControlTemplate x:Key="ListBoxItemControlTemplate" TargetType="{x:Type ListBoxItem}">
                <ControlTemplate.Resources>
                    <Storyboard x:Key="StoryboardRotate" Timeline.DesiredFrameRate="30">
                        <DoubleAnimationUsingKeyFrames Storyboard.TargetName="Bd" Storyboard.TargetProperty="(UIElement.RenderTransform).(TransformGroup.Children)[2].(RotateTransform.Angle)">
                            <EasingDoubleKeyFrame KeyTime="0" Value="0" />
                            <EasingDoubleKeyFrame KeyTime="0:0:0.75" Value="360" />
                        </DoubleAnimationUsingKeyFrames>
                    </Storyboard>
                    <Storyboard x:Key="GrowListItem" AutoReverse="True" Timeline.DesiredFrameRate="30">
                        <DoubleAnimationUsingKeyFrames Storyboard.TargetName="Bd" Storyboard.TargetProperty="(UIElement.RenderTransform).(TransformGroup.Children)[0].(ScaleTransform.ScaleX)">
                            <EasingDoubleKeyFrame KeyTime="0" Value="1" />
                            <EasingDoubleKeyFrame KeyTime="0:0:0.6" Value="4" />
                        </DoubleAnimationUsingKeyFrames>
                        <DoubleAnimationUsingKeyFrames Storyboard.TargetName="Bd" Storyboard.TargetProperty="(UIElement.RenderTransform).(TransformGroup.Children)[0].(ScaleTransform.ScaleY)">
                            <EasingDoubleKeyFrame KeyTime="0" Value="1" />
                            <EasingDoubleKeyFrame KeyTime="0:0:0.6" Value="4" />
                        </DoubleAnimationUsingKeyFrames>
                    </Storyboard>
                </ControlTemplate.Resources>
                <Border x:Name="Bd"
                    Background="{TemplateBinding Background}"
                    BorderBrush="{TemplateBinding BorderBrush}"
                    BorderThickness="{TemplateBinding BorderThickness}"
                    Padding="{TemplateBinding Padding}"
                    CornerRadius="1" RenderTransformOrigin="0.5,0.5" SnapsToDevicePixels="True">
                    <Border.InputBindings>
                        <MouseBinding Command="{Binding VeriEkleEkranı, Mode=OneWay}" CommandParameter="{Binding Mode=OneWay}" MouseAction="LeftClick" />
                    </Border.InputBindings>
                    <Border.RenderTransform>
                        <TransformGroup>
                            <ScaleTransform />
                            <SkewTransform />
                            <RotateTransform />
                            <TranslateTransform />
                        </TransformGroup>
                    </Border.RenderTransform>
                    <ContentPresenter Content="{TemplateBinding Content}"
                        HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
                        VerticalAlignment="{TemplateBinding VerticalContentAlignment}"
                        ContentStringFormat="{TemplateBinding ContentStringFormat}"
                        ContentTemplate="{TemplateBinding ContentTemplate}"
                        SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}" />
                </Border>
                <ControlTemplate.Triggers>
                    <MultiDataTrigger>
                        <MultiDataTrigger.Conditions>
                            <Condition Binding="{Binding HaftaSonlarıGizle, Source={x:Static properties:Settings.Default}}" Value="true" />
                            <Condition Binding="{Binding GünAdı}" Value="Cmt" />
                        </MultiDataTrigger.Conditions>
                        <Setter Property="Visibility" Value="Collapsed" />
                    </MultiDataTrigger>
                    <MultiDataTrigger>
                        <MultiDataTrigger.Conditions>
                            <Condition Binding="{Binding HaftaSonlarıGizle, Source={x:Static properties:Settings.Default}}" Value="true" />
                            <Condition Binding="{Binding GünAdı}" Value="Paz" />
                        </MultiDataTrigger.Conditions>
                        <Setter Property="Visibility" Value="Collapsed" />
                    </MultiDataTrigger>
                    <DataTrigger Value="true">
                        <DataTrigger.Binding>
                            <MultiBinding Converter="{StaticResource DateAnimationConverter}">
                                <Binding Path="TamTarih" />
                                <Binding Path="DataContext.AnimasyonTarih" RelativeSource="{RelativeSource AncestorType={x:Type Window}}" />
                            </MultiBinding>
                        </DataTrigger.Binding>
                        <DataTrigger.EnterActions>
                            <BeginStoryboard Storyboard="{StaticResource GrowListItem}" />
                        </DataTrigger.EnterActions>
                        <Setter Property="Panel.ZIndex" Value="1" />
                    </DataTrigger>
                    <MultiTrigger>
                        <MultiTrigger.Conditions>
                            <Condition Property="IsMouseOver" Value="True" />
                        </MultiTrigger.Conditions>
                        <MultiTrigger.EnterActions>
                            <BeginStoryboard Storyboard="{StaticResource StoryboardRotate}" />
                        </MultiTrigger.EnterActions>
                        <!--<Setter TargetName="Bd" Property="Background" Value="#1F26A0DA" />-->
                        <Setter TargetName="Bd" Property="BorderBrush" Value="#A826A0DA" />
                        <Setter TargetName="Bd" Property="CacheMode">
                            <Setter.Value>
                                <BitmapCache RenderAtScale="0.85" />
                            </Setter.Value>
                        </Setter>
                    </MultiTrigger>
                    <MultiTrigger>
                        <MultiTrigger.Conditions>
                            <Condition Property="Selector.IsSelectionActive" Value="False" />
                            <Condition Property="IsSelected" Value="True" />
                        </MultiTrigger.Conditions>
                        <Setter TargetName="Bd" Property="Background" Value="#3DDADADA" />
                        <Setter TargetName="Bd" Property="BorderBrush" Value="#FFDADADA" />
                    </MultiTrigger>
                    <MultiTrigger>
                        <MultiTrigger.Conditions>
                            <Condition Property="Selector.IsSelectionActive" Value="True" />
                            <Condition Property="IsSelected" Value="True" />
                        </MultiTrigger.Conditions>
                        <Setter TargetName="Bd" Property="Background" Value="#3D26A0DA" />
                        <Setter TargetName="Bd" Property="BorderBrush" Value="#FF26A0DA" />
                    </MultiTrigger>
                    <Trigger Property="IsEnabled" Value="False">
                        <Setter TargetName="Bd" Property="TextElement.Foreground" Value="{DynamicResource {x:Static SystemColors.GrayTextBrushKey}}" />
                    </Trigger>
                </ControlTemplate.Triggers>
            </ControlTemplate>
            <ControlTemplate x:Key="Bayrak">
                <Viewbox>
                    <Canvas Width="32.000" Height="21.333">
                        <Path Data="M 0.000,0.000 L 32.000,0.000 L 32.000,21.333 L 0.000,21.333 L 0.000,0.000 Z" Fill="Red" />
                        <Path Data="M 10.667,5.330 C 12.565,5.330 14.231,6.322 15.176,7.815 C 14.395,6.945 13.262,6.397 12.001,6.397 C 9.645,6.397 7.735,8.309 7.735,10.667 C 7.735,13.025 9.645,14.936 12.001,14.936 C 13.262,14.936 14.395,14.389 15.176,13.518 C 14.231,15.012 12.565,16.004 10.667,16.004 C 7.722,16.004 5.335,13.614 5.335,10.667 C 5.335,7.719 7.722,5.330 10.667,5.330 Z" Fill="White" />
                        <Path Data="M 15.215,10.667 L 17.169,10.038 L 17.165,7.993 L 18.368,9.650 L 20.320,9.014 L 19.110,10.667 L 20.320,12.319 L 18.368,11.683 L 17.165,13.341 L 17.169,11.295 L 15.215,10.667 Z" Fill="White" />
                    </Canvas>
                </Viewbox>
            </ControlTemplate>
            <ControlTemplate x:Key="Kurban">
                <Viewbox>
                    <Canvas Width="28.000" Height="29.900">
                        <Path Stroke="Black" StrokeEndLineCap="Round" StrokeLineJoin="Round" StrokeStartLineCap="Round"
                            StrokeThickness="2.0"
                            Data="F1 M 27.000,17.300 C 27.000,14.700 25.600,12.400 23.400,11.200 C 24.900,9.200 26.000,6.800 26.000,4.000 C 26.000,3.000 26.000,2.000 25.500,1.000 L 25.500,1.100 C 24.300,5.900 19.900,9.000 14.900,9.000 L 13.100,9.000 C 8.100,9.000 3.600,5.900 2.500,1.100 L 2.500,1.000 C 2.000,2.000 2.000,3.000 2.000,4.000 C 2.000,6.800 3.100,9.200 4.600,11.300 C 2.400,12.500 1.000,14.700 1.000,17.300 C 2.600,17.300 4.100,16.700 5.300,15.800 L 6.400,24.800 C 6.700,27.200 8.700,28.900 11.100,28.900 L 16.900,28.900 C 19.300,28.900 21.300,27.100 21.600,24.800 L 22.700,15.800 C 23.900,16.800 25.400,17.300 27.000,17.300 Z" />
                        <Path Stroke="Black" StrokeEndLineCap="Round" StrokeLineJoin="Round" StrokeStartLineCap="Round"
                            StrokeThickness="2.0"
                            Data="F1 M 7.000,23.000 L 21.000,23.000" />
                    </Canvas>
                </Viewbox>
            </ControlTemplate>
            <ControlTemplate x:Key="Ramazan">
                <Viewbox>
                    <Canvas Width="32.000" Height="32.000">
                        <Path Data="F1 M 0.406,31.594 L 0.406,31.594 C 0.946,32.135 1.823,32.135 2.364,31.594 L 15.477,18.481 L 13.518,16.523 L 0.406,29.636 C -0.135,30.177 -0.135,31.054 0.406,31.594 Z" Fill="#ff000000" />
                        <Path Data="F1 M 21.593,0.000 C 27.340,0.000 32.000,4.659 32.000,10.407 C 32.000,16.155 27.340,20.815 21.593,20.815 C 15.845,20.815 11.185,16.155 11.185,10.407 C 11.185,4.659 15.845,0.000 21.593,0.000 Z" Fill="#ffef9d9f" />
                        <Path Data="F1 M 21.593,19.098 C 16.134,19.098 11.658,14.895 11.221,9.549 C 11.198,9.832 11.186,10.118 11.186,10.407 C 11.186,16.155 15.845,20.814 21.593,20.814 C 27.341,20.814 32.000,16.155 32.000,10.407 C 32.000,10.118 31.988,9.832 31.965,9.549 C 31.528,14.895 27.052,19.098 21.593,19.098 Z" Fill="#ffee888f" />
                        <Path Data="F1 M 27.531,19.217 L 12.783,4.469 C 12.399,4.085 12.399,3.462 12.783,3.078 L 14.277,1.584 C 14.661,1.200 15.284,1.200 15.668,1.584 L 30.416,16.332 C 30.800,16.716 30.800,17.339 30.416,17.723 L 28.922,19.217 C 28.538,19.601 27.915,19.601 27.531,19.217 Z" Fill="#ffee888f" />
                        <Path Data="F1 M 24.961,3.092 C 25.833,3.092 26.540,3.799 26.540,4.671 C 26.540,5.543 25.833,6.250 24.961,6.250 C 24.089,6.250 23.382,5.543 23.382,4.671 C 23.382,3.799 24.089,3.092 24.961,3.092 Z" Fill="#ffee888f" />
                        <Path Data="F1 M 21.976,3.678 C 22.254,3.678 22.480,3.904 22.480,4.182 C 22.480,4.460 22.254,4.685 21.976,4.685 C 21.699,4.685 21.473,4.460 21.473,4.182 C 21.473,3.904 21.699,3.678 21.976,3.678 Z" Fill="#ffee888f" />
                    </Canvas>
                </Viewbox>
            </ControlTemplate>
            <ControlTemplate x:Key="TimePanel">
                <Grid>
                    <Ellipse Width="16" Height="16" Fill="{Binding XPath=@Renk}" />
                    <TextBlock Text="{Binding XPath=@Saat}"
                        HorizontalAlignment="Center" VerticalAlignment="Center"
                        FontSize="10" FontWeight="Bold">
                        <TextBlock.Style>
                            <Style TargetType="{x:Type TextBlock}">
                                <Style.Triggers>
                                    <DataTrigger Binding="{Binding XPath=@Saat}" Value="0">
                                        <Setter Property="Visibility" Value="Collapsed" />
                                    </DataTrigger>
                                </Style.Triggers>
                            </Style>
                        </TextBlock.Style>
                        <TextBlock.ToolTip>
                            <TextBlock Text="{Binding StringFormat=\{0\} Saatlik Etkinlik Düzenlendi, XPath=@Saat}" />
                        </TextBlock.ToolTip>
                    </TextBlock>
                </Grid>
            </ControlTemplate>
            <ObjectDataProvider x:Key="Renkler" MethodName="GetProperties" ObjectInstance="{x:Type Colors}" />
            <DataTemplate x:Key="ComboBoxRectItemTemplate">
                <Rectangle Width="16" Height="16"
                    Fill="{Binding Name, Converter={StaticResource StringToBrushConverter}}"
                    RadiusX="2" RadiusY="2"
                    ToolTip="{Binding Name}" />
            </DataTemplate>
            <ItemsPanelTemplate x:Key="CbItemsPanelTemplate">
                <WrapPanel Width="300" Height="350"
                    IsItemsHost="True" Orientation="Horizontal" />
            </ItemsPanelTemplate>
            <Style x:Key="RunItemCountStyle" TargetType="{x:Type Run}">
                <Setter Property="Text" Value="{Binding VeriSayısı}" />
                <Style.Triggers>
                    <DataTrigger Binding="{Binding VeriSayısı}" Value="0">
                        <Setter Property="Text" Value="{x:Null}" />
                    </DataTrigger>
                </Style.Triggers>
            </Style>
            <Style x:Key="ComboBoxItemContainerStyle" TargetType="{x:Type ComboBoxItem}">
                <Style.Triggers>
                    <DataTrigger Binding="{Binding Name}" Value="Black">
                        <Setter Property="IsEnabled" Value="False" />
                    </DataTrigger>
                </Style.Triggers>
            </Style>
            <Style x:Key="ListBoxToolTipItemContainerStyle" TargetType="{x:Type ListBoxItem}">
                <Setter Property="BorderBrush" Value="Blue" />
                <Style.Triggers>
                    <DataTrigger Binding="{Binding XPath=@Onemli}" Value="true">
                        <Setter Property="Background" Value="Red" />
                    </DataTrigger>
                </Style.Triggers>
            </Style>
            <Style x:Key="CanvasDragStyle" TargetType="{x:Type Canvas}">
                <Setter Property="TextElement.Foreground" Value="Red" />
                <Setter Property="Cursor" Value="SizeAll" />
                <Setter Property="local:MovableControl.MoveData" Value="True" />
                <Setter Property="local:MovableControl.DraggedData" Value="{Binding}" />
                <Style.Triggers>
                    <DataTrigger Binding="{Binding XPath=@Kilitli}" Value="true">
                        <Setter Property="IsEnabled" Value="False" />
                        <Setter Property="local:MovableControl.MoveData" Value="False" />
                        <Setter Property="TextElement.Foreground" Value="Gray" />
                    </DataTrigger>
                </Style.Triggers>
            </Style>
            <LinearGradientBrush x:Key="BorderBackground" ice:Freeze="True" StartPoint="0.5,0" EndPoint="0.5,1">
                <GradientStop ice:Freeze="True" Offset="0" Color="#FFFDFEFF" />
                <GradientStop ice:Freeze="True" Offset="1" Color="#FFC1D3EA" />
            </LinearGradientBrush>
            <LinearGradientBrush x:Key="ReligiousDateHalfBackground" ice:Freeze="True" StartPoint="0,0" EndPoint="1,0">
                <LinearGradientBrush.RelativeTransform>
                    <RotateTransform Angle="45" CenterX="0.5" CenterY="0.5" />
                </LinearGradientBrush.RelativeTransform>
                <GradientStop Offset="0.5" Color="Transparent" />
                <GradientStop Offset="0.5" Color="{Binding DataContext.BayramTatilRenk, Converter={StaticResource BrushToColorConverter}, ElementName=Window}" />
            </LinearGradientBrush>
            <LinearGradientBrush x:Key="HolidayHalfBackground" ice:Freeze="True" StartPoint="0,0" EndPoint="1,0">
                <LinearGradientBrush.RelativeTransform>
                    <RotateTransform Angle="45" CenterX="0.5" CenterY="0.5" />
                </LinearGradientBrush.RelativeTransform>
                <GradientStop Offset="0.5" Color="Transparent" />
                <GradientStop Offset="0.5" Color="{Binding DataContext.ResmiTatilRenk, Converter={StaticResource BrushToColorConverter}, ElementName=Window}" />
            </LinearGradientBrush>
            <Style TargetType="{x:Type GroupBox}">
                <Setter Property="Background" Value="{StaticResource GroupBoxBackGround}" />
                <Setter Property="BorderBrush" Value="Black" />
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="{x:Type GroupBox}">
                            <Grid>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto" />
                                    <RowDefinition Height="*" />
                                </Grid.RowDefinitions>
                                <Border Grid.Row="0"
                                    Background="{TemplateBinding Background}"
                                    BorderBrush="{TemplateBinding BorderBrush}"
                                    BorderThickness="1"
                                    CornerRadius="3,3,0,0">
                                    <ContentPresenter Margin="4" ContentSource="Header" RecognizesAccessKey="True" />
                                </Border>
                                <Border Grid.Row="1"
                                    Background="{StaticResource BorderBackground}"
                                    BorderBrush="{TemplateBinding BorderBrush}"
                                    BorderThickness="1,0,1,1"
                                    CornerRadius="0,0,1,1">
                                    <ContentPresenter Margin="1" />
                                </Border>
                            </Grid>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
            </Style>
            <DataTemplate x:Key="ListBoxDataTemplate">
                <Canvas Width="30" Height="30" Background="Transparent">
                    <TextBlock Canvas.Left="0"
                        Width="30" Height="30"
                        FontSize="10">
                        <TextBlock.Style>
                            <Style TargetType="{x:Type TextBlock}">
                                <Style.Triggers>
                                    <DataTrigger Binding="{Binding TamTarih, Converter={StaticResource DatePassedBooleanConverter}}" Value="true">
                                        <Setter Property="Foreground" Value="{DynamicResource {x:Static SystemColors.GrayTextBrushKey}}" />
                                    </DataTrigger>
                                </Style.Triggers>
                            </Style>
                        </TextBlock.Style>
                        <Run Text="{Binding Gün}" />
                        <Run FontSize="8" Style="{StaticResource RunItemCountStyle}">
                            <Run.ToolTip>
                                <ToolTip Template="{StaticResource GreenToolTipControlTemplate}">
                                    <ListBox ItemsSource="{Binding Converter={StaticResource SelectedDateToDataListConverter}, Mode=OneWay}" ItemContainerStyle="{StaticResource ListBoxToolTipItemContainerStyle}">
                                        <ListBox.ItemTemplate>
                                            <DataTemplate>
                                                <TextBlock Text="{Binding XPath=Aciklama}" />
                                            </DataTemplate>
                                        </ListBox.ItemTemplate>
                                    </ListBox>
                                </ToolTip>
                            </Run.ToolTip>
                        </Run>
                        <LineBreak />
                        <Run Text="{Binding GünAdı}" />
                        <Run Foreground="Blue" FontSize="6" FontFamily="Segoe UI Symbol">
                            <Run.Style>
                                <Style TargetType="{x:Type Run}">
                                    <Setter Property="Text" Value="" />
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding Converter={StaticResource BilinenGünlerConverter}, Mode=OneWay}" Value="true">
                                            <Setter Property="Text" Value="◆" />
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </Run.Style>
                            <Run.ToolTip>
                                <ToolTip Template="{StaticResource GreenToolTipControlTemplate}">
                                    <ListBox ItemsSource="{Binding Günler, Source={StaticResource BilinenGünlerConverter}}" SelectedItem="{Binding Converter={StaticResource BilinenGünlerSeçiliConverter}, Mode=OneWay}">
                                        <ListBox.ItemTemplate>
                                            <DataTemplate>
                                                <TextBlock>
                                                    <TextBlock.Text>
                                                        <MultiBinding StringFormat="{}{0}/{1}/{2} {3}">
                                                            <Binding Path="Item2" />
                                                            <Binding Path="Item1" />
                                                            <Binding Path="DataContext.SeçiliYıl" RelativeSource="{RelativeSource FindAncestor, AncestorType={x:Type Window}}" />
                                                            <Binding Path="Item3" />
                                                        </MultiBinding>
                                                    </TextBlock.Text>
                                                </TextBlock>
                                            </DataTemplate>
                                        </ListBox.ItemTemplate>
                                        <ListBox.Style>
                                            <Style TargetType="{x:Type ListBox}">
                                                <Style.Resources>
                                                    <SolidColorBrush x:Key="{x:Static SystemColors.HighlightBrushKey}" Color="GreenYellow" />
                                                    <SolidColorBrush x:Key="{x:Static SystemColors.ControlBrushKey}" Color="GreenYellow" />
                                                </Style.Resources>
                                            </Style>
                                        </ListBox.Style>
                                    </ListBox>
                                </ToolTip>
                            </Run.ToolTip>
                        </Run>
                        <Run Foreground="Blue"
                            DataContext="{Binding Converter={StaticResource AyTekrarConverter}, Mode=OneWay}"
                            FontSize="7" FontWeight="Bold">
                            <Run.Style>
                                <Style TargetType="{x:Type Run}">
                                    <Setter Property="Text" Value="" />
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding AyTekrar, Mode=OneWay}" Value="true">
                                            <Setter Property="Text" Value="T" />
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </Run.Style>
                            <Run.ToolTip>
                                <ToolTip Template="{StaticResource GreenToolTipControlTemplate}">
                                    <ListBox ItemsSource="{Binding Converter={StaticResource AyTekrarDataConverter}, Mode=OneWay}">
                                        <ListBox.ItemTemplate>
                                            <DataTemplate>
                                                <StackPanel Orientation="Horizontal">
                                                    <Image MaxWidth="48" MaxHeight="48" Source="{Binding ResimData, ConverterParameter=48, Converter={StaticResource WebpByteArrayToImageConverter}, Mode=OneWay}" />
                                                    <TextBlock VerticalAlignment="Center">
                                                        <Run Text="{Binding GünNotAçıklama}" />
                                                        <Run Text="{Binding TamTarih, StringFormat=\{0:d\}}" Language="tr-tr" /></TextBlock>
                                                </StackPanel>
                                            </DataTemplate>
                                        </ListBox.ItemTemplate>
                                    </ListBox>
                                </ToolTip>
                            </Run.ToolTip>
                        </Run></TextBlock>
                    <ContentControl Canvas.Top="0" Canvas.Right="-4"
                        Width="16" Height="10"
                        IsTabStop="False" RenderTransformOrigin="0.5,0.5">
                        <ContentControl.Style>
                            <Style TargetType="{x:Type ContentControl}">
                                <Setter Property="Content" Value="{x:Null}" />
                                <Style.Triggers>
                                    <DataTrigger Binding="{Binding Converter={StaticResource GünTatilConverter}, Mode=OneWay}" Value="true">
                                        <Setter Property="Template" Value="{StaticResource Bayrak}" />
                                    </DataTrigger>
                                </Style.Triggers>
                            </Style>
                        </ContentControl.Style>
                    </ContentControl>
                    <ContentControl Canvas.Right="-4" Canvas.Bottom="7"
                        Width="8" Height="10"
                        IsTabStop="False" RenderTransformOrigin="0.5,0.5">
                        <ContentControl.Style>
                            <Style TargetType="{x:Type ContentControl}">
                                <Setter Property="Content" Value="{x:Null}" />
                                <Style.Triggers>
                                    <DataTrigger Binding="{Binding TamTarih, Converter={StaticResource FeastoftheSacrificeDateToHolidayConverter}, Mode=OneWay}" Value="true">
                                        <Setter Property="Template" Value="{StaticResource Kurban}" />
                                    </DataTrigger>
                                    <DataTrigger Binding="{Binding TamTarih, Converter={StaticResource FeastoftheSacrificeDateToHolidayConverter}, Mode=OneWay}" Value="{x:Null}">
                                        <Setter Property="Template" Value="{StaticResource Kurban}" />
                                    </DataTrigger>
                                    <DataTrigger Binding="{Binding TamTarih, Converter={StaticResource RamadanDateToHolidayConverter}, Mode=OneWay}" Value="true">
                                        <Setter Property="Template" Value="{StaticResource Ramazan}" />
                                    </DataTrigger>
                                    <DataTrigger Binding="{Binding TamTarih, Converter={StaticResource RamadanDateToHolidayConverter}, Mode=OneWay}" Value="{x:Null}">
                                        <Setter Property="Template" Value="{StaticResource Ramazan}" />
                                    </DataTrigger>
                                </Style.Triggers>
                            </Style>
                        </ContentControl.Style>
                    </ContentControl>
                </Canvas>
            </DataTemplate>
            <Style x:Key="ListBoxItemContainerStyle" TargetType="{x:Type ListBoxItem}">
                <Setter Property="IsTabStop" Value="False" />
                <Setter Property="Margin" Value="1" />
                <Style.Triggers>
                    <DataTrigger Binding="{Binding GünAdı}" Value="Cmt">
                        <Setter Property="Background" Value="{Binding DataContext.SeçiliRenkCmt, ElementName=Window}" />
                    </DataTrigger>
                    <DataTrigger Binding="{Binding GünAdı}" Value="Paz">
                        <Setter Property="Background" Value="{Binding DataContext.SeçiliRenkPaz, ElementName=Window}" />
                    </DataTrigger>
                    <DataTrigger Binding="{Binding Converter={StaticResource GünTatilConverter}, Mode=OneWay}" Value="true">
                        <Setter Property="Background" Value="{Binding DataContext.ResmiTatilRenk, ElementName=Window}" />
                    </DataTrigger>
                    <DataTrigger Binding="{Binding Converter={StaticResource GünTatilConverter}, Mode=OneWay}" Value="{x:Null}">
                        <Setter Property="Background" Value="{StaticResource HolidayHalfBackground}" />
                    </DataTrigger>
                    <DataTrigger Binding="{Binding TamTarih, Converter={StaticResource RamadanDateToHolidayConverter}, Mode=OneWay}" Value="true">
                        <Setter Property="Background" Value="{Binding DataContext.BayramTatilRenk, ElementName=Window}" />
                    </DataTrigger>
                    <DataTrigger Binding="{Binding TamTarih, Converter={StaticResource RamadanDateToHolidayConverter}, Mode=OneWay}" Value="{x:Null}">
                        <Setter Property="Background" Value="{StaticResource ReligiousDateHalfBackground}" />
                    </DataTrigger>
                    <DataTrigger Binding="{Binding TamTarih, Converter={StaticResource FeastoftheSacrificeDateToHolidayConverter}, Mode=OneWay}" Value="true">
                        <Setter Property="Background" Value="{Binding DataContext.BayramTatilRenk, ElementName=Window}" />
                    </DataTrigger>
                    <DataTrigger Binding="{Binding TamTarih, Converter={StaticResource FeastoftheSacrificeDateToHolidayConverter}, Mode=OneWay}" Value="{x:Null}">
                        <Setter Property="Background" Value="{StaticResource ReligiousDateHalfBackground}" />
                    </DataTrigger>
                </Style.Triggers>
            </Style>
            <DrawingBrush x:Key="Dur" ice:Freeze="True" Stretch="Uniform">
                <DrawingBrush.Drawing>
                    <DrawingGroup>
                        <GeometryDrawing Brush="Black" ice:Freeze="True" Geometry="F1 M 5.27184,18L 0,12.7282L 0,5.27184L 5.27184,1.90735e-006L 12.7282,1.90735e-006L 18,5.27184L 18,12.7282L 12.7282,18L 5.27184,18 Z " />
                        <GeometryDrawing Brush="White" ice:Freeze="True" Geometry="F1 M 5.38416,17.7293L 0.26928,12.6158L 0.26928,5.38416L 5.38416,0.269283L 12.6158,0.270723L 17.7293,5.38416L 17.7293,12.6158L 12.6158,17.7293L 5.38416,17.7293 Z " />
                        <GeometryDrawing Brush="Red" ice:Freeze="True" Geometry="F1 M 0.684,12.4445L 0.684,5.55552L 5.55552,0.684002L 12.4445,0.684002L 17.316,5.55552L 17.316,12.4445L 12.4445,17.316L 5.55552,17.316L 0.684,12.4445 Z " />
                        <GeometryDrawing Brush="White" ice:Freeze="True" Geometry="F1 M 1.55447,11.6578L 1.55447,6.52443L 3.39926,6.52443C 5.2494,6.52443 6.17447,7.35859 6.17447,9.02693C 6.17447,9.82596 5.922,10.4642 5.41707,10.9416C 4.91214,11.419 4.23954,11.6578 3.39926,11.6578L 1.55447,11.6578 Z M 2.7278,7.47776L 2.7278,10.7044L 3.3053,10.7044C 3.81176,10.7044 4.20879,10.5553 4.4964,10.257C 4.784,9.95868 4.9278,9.55287 4.9278,9.03953C 4.9278,8.55446 4.78515,8.1729 4.49983,7.89485C 4.21452,7.61679 3.81405,7.47776 3.29843,7.47776L 2.7278,7.47776 Z " />
                        <GeometryDrawing Brush="White" ice:Freeze="True" Geometry="F1 M 11.1611,9.42568C 11.1611,10.9626 10.4416,11.7311 9.00239,11.7311C 7.606,11.7311 6.9078,10.9806 6.9078,9.47953L 6.9078,6.52443L 8.08114,6.52443L 8.08114,9.47151C 8.08114,10.2935 8.40197,10.7044 9.04364,10.7044C 9.67308,10.7044 9.9878,10.3076 9.9878,9.51391L 9.9878,6.52443L 11.1611,6.52443L 11.1611,9.42568 Z " />
                        <GeometryDrawing Brush="White" ice:Freeze="True" Geometry="F1 M 16.5225,11.6578L 15.1945,11.6578L 14.4233,10.3274C 14.366,10.2259 14.3108,10.1355 14.2577,10.0565C 14.2047,9.9774 14.151,9.9096 14.0968,9.85307C 14.0425,9.79655 13.986,9.75319 13.9272,9.72302C 13.8684,9.69285 13.8046,9.67776 13.7358,9.67776L 13.4345,9.67776L 13.4345,11.6578L 12.2611,11.6578L 12.2611,6.52443L 14.0773,6.52443C 15.311,6.52443 15.9278,6.98773 15.9278,7.91432C 15.9278,8.09231 15.9009,8.25674 15.847,8.40761C 15.7932,8.55847 15.7172,8.69445 15.619,8.81552C 15.5208,8.9366 15.4022,9.04106 15.2632,9.12891C 15.1242,9.21675 14.9695,9.2855 14.7992,9.33516L 14.7992,9.35005C 14.874,9.37373 14.9466,9.4125 15.0169,9.46635C 15.0871,9.52021 15.1549,9.58323 15.2202,9.65542C 15.2856,9.7276 15.3482,9.80514 15.4082,9.88802C 15.4681,9.9709 15.5226,10.0521 15.5714,10.1315L 16.5225,11.6578 Z M 13.4345,7.40443L 13.4345,8.79776L 13.9054,8.79776C 14.1384,8.79776 14.3252,8.72787 14.4657,8.58807C 14.6093,8.44599 14.6811,8.2703 14.6811,8.06099C 14.6811,7.62328 14.4291,7.40443 13.9249,7.40443L 13.4345,7.40443 Z " />
                    </DrawingGroup>
                </DrawingBrush.Drawing>
            </DrawingBrush>
            <ControlTemplate x:Key="ValidationErrorTemplate">
                <Grid Focusable="False">
                    <AdornedElementPlaceholder x:Name="Adorner" />
                    <Canvas x:Name="Cnv"
                        Width="18" Height="18"
                        Background="{StaticResource Dur}"
                        HorizontalAlignment="Center" VerticalAlignment="Center"
                        DataContext="{Binding ElementName=Adorner, Mode=OneWay}"
                        RenderTransformOrigin="0.5,0.5" UseLayoutRounding="True">
                        <Canvas.ToolTip>
                            <ToolTip Foreground="{x:Null}" Background="{x:Null}" BorderBrush="{x:Null}">
                                <Border Background="Red" BorderBrush="White" BorderThickness="1"
                                    Padding="4">
                                    <TextBlock Text="{Binding AdornedElement.(Validation.Errors)/ErrorContent, Mode=OneWay}" Foreground="White" />
                                </Border>
                            </ToolTip>
                        </Canvas.ToolTip>
                        <Canvas.RenderTransform>
                            <TransformGroup>
                                <ScaleTransform />
                                <SkewTransform />
                                <RotateTransform />
                                <TranslateTransform />
                            </TransformGroup>
                        </Canvas.RenderTransform>
                    </Canvas>
                </Grid>
                <ControlTemplate.Triggers>
                    <DataTrigger Binding="{Binding AdornedElement.(Validation.HasError), ElementName=Adorner}" Value="True">
                        <DataTrigger.EnterActions>
                            <BeginStoryboard>
                                <Storyboard AutoReverse="True" RepeatBehavior="Forever" Timeline.DesiredFrameRate="2">
                                    <DoubleAnimationUsingKeyFrames Storyboard.TargetName="Cnv" Storyboard.TargetProperty="(UIElement.RenderTransform).(TransformGroup.Children)[2].(RotateTransform.Angle)">
                                        <EasingDoubleKeyFrame KeyTime="0" Value="45" />
                                        <EasingDoubleKeyFrame KeyTime="0:0:0.5" Value="0" />
                                    </DoubleAnimationUsingKeyFrames>
                                </Storyboard>
                            </BeginStoryboard>
                        </DataTrigger.EnterActions>
                    </DataTrigger>
                </ControlTemplate.Triggers>
            </ControlTemplate>
            <Style x:Key="GünListBoxItemContainerStyle" TargetType="{x:Type ListBoxItem}">
                <Setter Property="HorizontalContentAlignment" Value="Stretch" />
                <Setter Property="VerticalContentAlignment" Value="Top" />
                <Setter Property="BorderThickness" Value="2.5" />
                <Setter Property="BorderBrush" Value="{StaticResource GroupBoxBackGround}" />
                <Setter Property="Background" Value="{Binding Converter={StaticResource StringToBrushConverter}, XPath=@Renk}" />
                <Setter Property="RenderTransform">
                    <Setter.Value>
                        <TransformGroup>
                            <ScaleTransform />
                            <SkewTransform />
                            <RotateTransform />
                            <TranslateTransform />
                        </TransformGroup>
                    </Setter.Value>
                </Setter>
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="{x:Type ListBoxItem}">
                            <ControlTemplate.Resources>
                                <Storyboard x:Key="DayRotateAnimation" Timeline.DesiredFrameRate="30">
                                    <DoubleAnimationUsingKeyFrames Storyboard.TargetProperty="(UIElement.RenderTransform).(TransformGroup.Children)[2].(RotateTransform.Angle)">
                                        <EasingDoubleKeyFrame KeyTime="0" Value="45" />
                                        <EasingDoubleKeyFrame KeyTime="0:0:0.40" Value="0" />
                                    </DoubleAnimationUsingKeyFrames>
                                    <DoubleAnimationUsingKeyFrames Storyboard.TargetProperty="(UIElement.RenderTransform).(TransformGroup.Children)[0].(ScaleTransform.ScaleX)">
                                        <EasingDoubleKeyFrame KeyTime="0" Value="0" />
                                        <EasingDoubleKeyFrame KeyTime="0:0:0.40" Value="1" />
                                    </DoubleAnimationUsingKeyFrames>
                                    <DoubleAnimationUsingKeyFrames Storyboard.TargetProperty="(UIElement.RenderTransform).(TransformGroup.Children)[0].(ScaleTransform.ScaleY)">
                                        <EasingDoubleKeyFrame KeyTime="0" Value="0" />
                                        <EasingDoubleKeyFrame KeyTime="0:0:0.40" Value="1" />
                                    </DoubleAnimationUsingKeyFrames>
                                </Storyboard>
                            </ControlTemplate.Resources>
                            <Border Background="{TemplateBinding Background}"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}"
                                Margin="1"
                                CornerRadius="3">
                                <ContentPresenter />
                            </Border>
                            <ControlTemplate.Triggers>
                                <EventTrigger RoutedEvent="FrameworkElement.Loaded">
                                    <BeginStoryboard Storyboard="{StaticResource DayRotateAnimation}" />
                                </EventTrigger>
                            </ControlTemplate.Triggers>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
            </Style>
            <DataTemplate x:Key="ListBoxAyDataTemplate">
                <StackPanel Background="Transparent" Orientation="Horizontal">
                    <StackPanel.InputBindings>
                        <MouseBinding Command="{Binding VeriEkleEkranı, Mode=OneWay}" CommandParameter="{Binding Mode=OneWay}" MouseAction="LeftClick" />
                    </StackPanel.InputBindings>
                    <TextBlock Margin="0,0,5,0" VerticalAlignment="Center" FontSize="14">
                        <TextBlock.Style>
                            <Style TargetType="{x:Type TextBlock}">
                                <Style.Triggers>
                                    <DataTrigger Binding="{Binding TamTarih, Converter={StaticResource DatePassedBooleanConverter}}" Value="true">
                                        <Setter Property="Foreground" Value="{DynamicResource {x:Static SystemColors.GrayTextBrushKey}}" />
                                    </DataTrigger>
                                </Style.Triggers>
                            </Style>
                        </TextBlock.Style><Run Text="{Binding Gün}" /><LineBreak /><Run Text="{Binding GünAdı}" /></TextBlock>
                    <ListBox Width="120" Height="130"
                        VerticalAlignment="Center"
                        ItemsSource="{Binding Converter={StaticResource SelectedDateToDataListConverter}, Mode=OneWay}"
                        local:MovableControl.MoveData="True"
                        local:MovableControl.PlacedData="{Binding}"
                        AllowDrop="True">
                        <ListBox.ItemsPanel>
                            <ItemsPanelTemplate>
                                <VirtualizingStackPanel />
                            </ItemsPanelTemplate>
                        </ListBox.ItemsPanel>
                        <ListBox.ItemTemplate>
                            <DataTemplate>
                                <StackPanel Orientation="Horizontal">
                                    <Canvas Width="18" Height="18"
                                        Background="Transparent"
                                        Style="{StaticResource CanvasDragStyle}">
                                        <TextBlock x:Name="Tb"
                                            Text="B"
                                            FontSize="18" FontFamily="Wingdings" FontWeight="Bold" />
                                    </Canvas>
                                    <Expander BorderBrush="{Binding Converter={StaticResource StringToBrushConverter}, XPath=@Renk}" BorderThickness="2" VerticalAlignment="Center">
                                        <Expander.Header>
                                            <StackPanel Orientation="Horizontal">
                                                <TextBlock VerticalAlignment="Center">
                                                    <TextBlock.Style>
                                                        <Style TargetType="{x:Type TextBlock}">
                                                            <Style.Triggers>
                                                                <DataTrigger Binding="{Binding XPath=@Onemli}" Value="true">
                                                                    <Setter Property="Foreground" Value="Red" />
                                                                </DataTrigger>
                                                            </Style.Triggers>
                                                        </Style>
                                                    </TextBlock.Style>
                                                    <Hyperlink Command="{Binding DataContext.XmlVeriSil, Mode=OneWay, RelativeSource={RelativeSource AncestorType=ListBox}}"
                                                        CommandParameter="{Binding XPath=@Id}"
                                                        FontSize="12" FontFamily="Segoe UI Black">
                                                        <Run Text="X" />
                                                    </Hyperlink>
                                                    <Run Text="{Binding XPath=@SaatBaslangic}" />
                                                    <LineBreak />
                                                    <Run Text="{Binding XPath=Aciklama}" />
                                                </TextBlock>
                                            </StackPanel>
                                        </Expander.Header>
                                        <Image Width="48" Height="48" Source="{Binding ConverterParameter=48, Converter={StaticResource Base64ImageConverter}, IsAsync=True, XPath=Resim}">
                                            <Image.Style>
                                                <Style TargetType="{x:Type Image}">
                                                    <Style.Triggers>
                                                        <DataTrigger Binding="{Binding XPath=Resim}" Value="{x:Null}">
                                                            <Setter Property="Visibility" Value="Collapsed" />
                                                        </DataTrigger>
                                                    </Style.Triggers>
                                                </Style>
                                            </Image.Style>
                                            <Image.ToolTip>
                                                <ToolTip Template="{StaticResource GreenToolTipControlTemplate}">
                                                    <Image Source="{Binding ConverterParameter=600, Converter={StaticResource Base64ImageConverter}, XPath=Resim}" />
                                                </ToolTip>
                                            </Image.ToolTip>
                                            <Image.InputBindings>
                                                <MouseBinding Command="{Binding DataContext.DosyaGör, RelativeSource={RelativeSource AncestorType=ListBox}}" CommandParameter="{Binding Mode=OneWay}" Gesture="CTRL+LeftClick" />
                                            </Image.InputBindings>
                                        </Image>
                                    </Expander>
                                </StackPanel>
                            </DataTemplate>
                        </ListBox.ItemTemplate>
                    </ListBox>
                </StackPanel>
            </DataTemplate>
            <Style x:Key="ListBoxYılGroupStyle" TargetType="{x:Type GroupItem}">
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="{x:Type GroupItem}">
                            <GroupBox Background="{Binding Items[0].TamTarih.Month, Converter={StaticResource MonthToColorConverter}}" Margin="1">
                                <GroupBox.Header>
                                    <TextBlock Text="{Binding Name, Mode=OneWay}" FontWeight="Bold" TextAlignment="Center" />
                                </GroupBox.Header>
                                <Border Background="{Binding DataContext.GövdeRenk, ElementName=Window}">
                                    <ItemsPresenter />
                                </Border>
                            </GroupBox>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
            </Style>
            <DataTemplate x:Key="ListBoxEditDataTemplate">
                <StackPanel>
                    <StackPanel Orientation="Horizontal">
                        <Canvas Width="18" Height="18"
                            Background="Transparent"
                            HorizontalAlignment="Left" VerticalAlignment="Top"
                            Style="{StaticResource CanvasDragStyle}">
                            <TextBlock x:Name="Tb"
                                Text="B"
                                FontSize="18" FontFamily="Wingdings" FontWeight="Bold" />
                        </Canvas>
                        <TextBlock FontSize="12" FontFamily="Segoe UI Black">
                            <Hyperlink x:Name="Hyp" Command="{Binding DataContext.XmlVeriSil, RelativeSource={RelativeSource AncestorType=Grid}}" CommandParameter="{Binding XPath=@Id}">
                                <Run Text="X" />
                            </Hyperlink>
                        </TextBlock>
                        <TextBlock>
                            <Run Text="{Binding XPath=@SaatBaslangic}" />
                            <Run Text="{Binding XPath=Aciklama}" />
                        </TextBlock>
                    </StackPanel>
                    <StackPanel Orientation="Horizontal">
                        <StackPanel.DataContext>
                            <local:Data />
                        </StackPanel.DataContext>
                        <local:TimePicker TimeValue="{Binding SaatBaşlangıç, Mode=OneWayToSource, UpdateSourceTrigger=PropertyChanged, ValidatesOnDataErrors=True}" Validation.ErrorTemplate="{x:Null}" />
                        <local:MaskedTextBox Width="35"
                            IncludePrompt="False" Mask="00" PromptChar="_"
                            ValueType="{x:Type System:Double}"
                            Value="{Binding EtkinlikSüresi, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
                        <CheckBox VerticalAlignment="Center" VerticalContentAlignment="Center" IsChecked="{Binding AyTekrar}">
                            <StackPanel Orientation="Horizontal">
                                <TextBlock Text="AY TEKRAR" VerticalAlignment="Center" />
                                <Slider IsEnabled="{Binding AyTekrar}"
                                    Width="35"
                                    AutoToolTipPlacement="TopLeft" IsSnapToTickEnabled="True" Maximum="31" Minimum="0"
                                    SmallChange="1" ToolTip="AYIN KAÇINCI GÜNÜ TEKRAR EDİLECEK"
                                    Value="{Binding AyTekrarGun, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
                            </StackPanel>
                        </CheckBox>
                        <ComboBox ItemsSource="{Binding Source={StaticResource Renkler}}"
                            ItemContainerStyle="{StaticResource ComboBoxItemContainerStyle}"
                            ItemTemplate="{StaticResource ComboBoxRectItemTemplate}"
                            ItemsPanel="{StaticResource CbItemsPanelTemplate}"
                            ScrollViewer.VerticalScrollBarVisibility="Disabled"
                            SelectedValue="{Binding VeriRenk, Mode=OneWayToSource, UpdateSourceTrigger=PropertyChanged, ValidatesOnDataErrors=True}"
                            SelectedValuePath="Name" ToolTip="Veri Renk"
                            Validation.ErrorTemplate="{x:Null}" />
                        <Button Command="{Binding XmlVeriGüncelle, Mode=OneWay}" CommandParameter="{Binding CommandParameter, ElementName=Hyp}" ToolTip="GÜNCELLE">
                            <Image Width="16" Height="16" Source="{Binding ConverterParameter=144, Converter={StaticResource Shell32FileIconConverter}}" />
                        </Button>
                    </StackPanel>
                </StackPanel>
            </DataTemplate>
        </ResourceDictionary>
    </Application.Resources>
</Application>